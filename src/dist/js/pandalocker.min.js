!function(t){t.pandalocker||(t.pandalocker={}),t.pandalocker.lang||(t.pandalocker.lang={}),t.pandalocker.lang.defaults||(t.pandalocker.lang.defaults={}),t.pandalocker.lang.defaults={confirm_screen_title:"Please Confirm Your Email",confirm_screen_instructiont:"We have sent a confirmation email to {email}. Please click on the confirmation link in the email to reveal the content.",confirm_screen_note1:"The content will be unlocked automatically within 10 seconds after confirmation.",confirm_screen_note2:"Note delivering the email may take several minutes.",confirm_screen_cancel:"(cancel)",confirm_screen_open:"Open my inbox on {service}",onestep_screen_title:"One Step To Complete",onestep_screen_instructiont:"Please enter your email below to continue.",onestep_screen_button:"OK, complete",signin_long:"Sign in via {name}",signin_short:"via {name}",signin_facebook_name:"Facebook",signin_twitter_name:"Twitter",signin_google_name:"Google",signin_linkedin_name:"LinkedIn",misc_data_processing:"Processing data, please wait...",misc_or_enter_email:"or enter your email manually to sign in",misc_enter_your_name:"enter your name",misc_enter_your_email:"enter your email address",misc_your_agree_with:"By clicking on the button(s), you agree with {links}",misc_terms_of_use:"Terms of Use",misc_privacy_policy:"Privacy Policy",misc_or_wait:"or wait {timer}s",misc_close:"Close",misc_or:"OR",errors_empty_email:"Please enter your email address.",errors_inorrect_email:"It seems you entered an incorrect email address. Please check it.",errors_empty_name:"Please enter your name.",errors_empty_field:"Please fill this field.",errors_invalid_value:"Invalid value. Please check the value you entered.",errors_invalid_date:"Please enter a valid date.",errors_invalid_month:"Please enter a valid month number (between 01 and 12).",errors_subscription_canceled:"You have canceled your subscription.",errors_not_signed_in:"Sorry, but you have not signed in. Please try again.",res_errors_not_granted:"Sorry, but you have not granted all the required permissions ({permissions}). Please try again.",error:"error",noSpam:"Your email address is 100% safe from spam!",errors:{ajaxError:"Unexpected ajax error. Please check the console log to get more details.",unableToLoadSDK:'Unable to load SDK script for "{0}" due to the error "{1}". Please make sure that nothing blocks loading of social scripts in your browser. Some browser extentions (Avast, PrivDog, AdBlock etc.) or usage of private tabs in FireFox may cause this issue. Turn them off and try again.',unableToCreateControl:"Unable to create ({0}). Please make sure that nothing blocks loading of social scripts in your browser. Some browser extentions (Avast, PrivDog, AdBlock etc.) can cause this issue. Turn them off and try again.",invlidFacebookAppId:"Invalid App ID or given URL is not allowed by the Application configuration: One or more of the given URLs is not allowed by the App's settings.  It must match the Website URL or Canvas URL, or the domain must be a subdomain of one of the App's domains.",emptyFBAppIdError:"Please set your Facebook App ID.",emptyTwitterFollowUrlError:"Please set an URL of your Twitter profile.",tweetNotFound:"Please make sure that you have posted the tweet. Unfortunately we have not manage to find the tweet in your account.",followingNotFound:"Please make sure that you have followed us. Unfortunately we have not manage to find you in the list of followers.",unsupportedTwitterTweetLayout:"The Twitter Tweet Button doesn't support the vertical layout. Please remove the Tweet button or select another theme.",unsupportedTwitterFollowLayout:"The Twitter Follow Button doesn't support the vertical layout. Please remove the Follow button or select another theme.",emptyYoutubeChannelId:"Please set your Youtube Channel ID.",emptyGoogleClientId:"Please set your Google Client ID.",unsupportedYoutubeSubscribeLayout:"The Youtube Subscribe Button doesn't support the vertical layout. Please remove the Subscribe button or select another theme."},scopes:{signinLocker:{defaultHeader:"Sing In To Unlock This Content",defaultMessage:"Please sign in. Just click one of the buttons below to get instant access.",btnSubscribe:"sign in to unlock",viaSignInLong:"{long}",viaSignInShort:"{short}"},emailLocker:{defaultHeader:"This Content Is Only For Subscribers",defaultMessage:"Please subscribe to unlock this content. Just enter your email.",btnSubscribe:"subscribe to unlock",viaSignInLong:"{short}",viaSignInShort:"{name}"},socialLocker:{defaultHeader:"This content is locked",defaultMessage:"Please support us, use one of the buttons below to unlock the content."}},connectButtons:{defaultMessage:"subscribe via your social profile by one click",facebook:{},google:{clientIdMissed:"The Google Client ID is not set. You need to generate a client ID before using the button.",unexpectedError:"Unable to sign in. Unexpected error occurred: {0}"},twitter:{proxyEmpty:"The proxy URL is empty. The proxy is used to call Twitter API."},linkedin:{clientIdMissed:"The LinkedIn Client ID or Client Secret is not set. You need to set these settings before using the button."},defaultSeparator:"or",errorYouTubeChannelMissed:"Please set an ID of your Youtube channel to subscribe.",errorLinkedInCompanyNotFound:"The LinkedIn company '{0}' not found.",errorLinkedInCompanyMissed:"Please specify the LinkedIn company ID or name to follow.",errorTwitterUserMissed:"Please specify the Twitter user name to follow.",errorTwitterMessageMissed:"Please specify the message to tweet."},subscription:{defaultText:"Cannot sign in via social networks? Enter your email manually.",defaultButtonText:"done, sign in to unlock"},socialButtons:{facebookLike:"like us",facebookShare:"share",twitterTweet:"tweet",twitterFollow:"follow us",googlePlus:"+1 us",googleShare:"share",youtubeSubscribe:"subscribe",linkedinShare:"share"}},t.pandalocker.lang=t.pandalocker.lang.defaults,window.__pandalockers&&window.__pandalockers.lang&&(t.pandalocker.lang=t.extend(t.pandalocker.lang,window.__pandalockers.lang),window.__pandalockers.lang=null)}(jQuery),!function(t){t.pandalocker.themes||(t.pandalocker.themes={}),t.pandalocker.themes["great-attractor"]={},t.pandalocker.themes["friendly-giant"]={theme:{fonts:[{name:"Open Sans",styles:["400","700"]}]}},t.pandalocker.themes["dark-force"]={theme:{fonts:[{name:"Montserrat",styles:["400","700"]}]}},t.pandalocker.themes.starter={socialButtons:{layout:"horizontal",counter:!0,flip:!1}},t.pandalocker.themes.secrets={socialButtons:{layout:"horizontal",counter:!0,flip:!0}},t.pandalocker.themes.dandyish={socialButtons:{unsupported:["twitter-follow"],layout:"vertical",counter:!0,flip:!1}},t.pandalocker.themes.glass={socialButtons:{layout:"horizontal",counter:!0,flip:!1}},t.pandalocker.themes.flat={socialButtons:{layout:"horizontal",counter:!0,flip:!0}}}(jQuery),!function(t){"use strict";t.pandalocker||(t.pandalocker={}),t.pandalocker.data||(t.pandalocker.data={}),t.pandalocker.entity||(t.pandalocker.entity={}),t.pandalocker.groups||(t.pandalocker.groups={}),t.pandalocker.controls||(t.pandalocker.controls={}),t.pandalocker.tools||(t.pandalocker.tools={}),t.pandalocker.storages||(t.pandalocker.storages={}),t.pandalocker.services||(t.pandalocker.services={}),t.pandalocker.extras||(t.pandalocker.extras={}),t.pandalocker.controls["social-buttons"]||(t.pandalocker.controls["social-buttons"]={}),t.pandalocker.controls["connect-buttons"]||(t.pandalocker.controls["connect-buttons"]={}),t.pandalocker.controls.subscription||(t.pandalocker.controls.subscription={})}(jQuery),!function(n){"use strict";n.pandalocker||(n.pandalocker={}),n.pandalocker.filters=n.pandalocker.filters||{_items:{},_priorities:{},run:function(t,e){var o=e&&0<e.length?e[0]:null;if(this._items[t])for(var n in this._priorities[t])if(this._priorities[t].hasOwnProperty(n))for(var i=this._priorities[t][n],r=0;r<this._items[t][i].length;r++)var s=this._items[t][i][r],o=s.apply(s,e);return o},add:function(t,e,o){o=o||10,this._items[t]||(this._items[t]={}),this._items[t][o]||(this._items[t][o]=[]),this._items[t][o].push(e),this._priorities[t]||(this._priorities[t]=[]),-1===n.inArray(o,this._priorities[t])&&this._priorities[t].push(o),this._priorities[t].sort(function(t,e){return t-e})}},n.pandalocker.hooks=n.pandalocker.hooks||{run:function(t,e){n.pandalocker.filters.run(t,e)},add:function(t,e,o){n.pandalocker.filters.add(t,e,o)}}}(jQuery),!function(t){"use strict";t.pandalocker||(t.pandalocker={}),t.pandalocker.deferred=t.Deferred||function(){var n={done:[],fail:[],always:[]};this.resolved=!1,this.rejected=!1,this.arg1=null,this.arg2=null,this.resolve=function(t,e){if(!this.resolved&&!this.rejected){this.resolved=!0,this.arg1=t,this.arg2=e;for(var o=0;o<n.done.length;o++)n.done[o](t,e);for(o=0;o<n.always.length;o++)n.always[o](t,e)}return this},this.reject=function(t,e){if(!this.resolved&&!this.rejected){this.rejected=!0,this.arg1=t,this.arg2=e;for(var o=0;o<n.fail.length;o++)n.fail[o](t,e);for(o=0;o<n.always.length;o++)n.always[o](t,e)}return this},this.done=this.success=function(t){return this.resolved?t&&t(this.arg1,this.arg2):n.done.push(t),this},this.fail=this.error=function(t){return this.rejected?t&&t(this.arg1,this.arg2):n.fail.push(t),this},this.always=function(t){return this.resolved||this.rejected?t&&t(this.arg1,this.arg2):n.always.push(t),this},this.promise=function(){return this}}}((window,document,jQuery)),!function(c){"use strict";c.pandalocker.tools||(c.pandalocker.tools={}),c.pandalocker.tools.extend=function(t){function e(){}return e.prototype=c.extend(!0,{},t),new e},c.pandalocker.error=function(t){this.onpsl=!0,this.message=t},c.pandalocker.tools.normilizeHtmlOption=function(t){return t&&("function"==typeof t?t(this):"string"==typeof t?c("<div>"+t+"</div>"):"object"==typeof t?t.clone():t)},c.pandalocker.tools.diffArrays=function(t,e){return c.grep(t,function(t){return-1==c.inArray(t,e)})},c.pandalocker.tools.unionArrays=function(t,e){return c.grep(t,function(t){return-1!==c.inArray(t,e)})},c.pandalocker.tools.cookie=c.pandalocker.tools.cookie||function(t,e,o){var n,i;if(1<arguments.length&&(!/Object/.test(Object.prototype.toString.call(e))||null==e))return o=c.extend({},o),null==e&&(o.expires=-1),"number"==typeof o.expires&&(n=o.expires,(i=o.expires=new Date).setDate(i.getDate()+n)),e=String(e),document.cookie=[encodeURIComponent(t),"=",o.raw?e:encodeURIComponent(e),o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("");for(var r,s=(o=e||{}).raw?function(t){return t}:decodeURIComponent,a=document.cookie.split("; "),l=0;r=a[l]&&a[l].split("=");l++)if(s(r[0])===t)return s(r[1]||"");return null},c.pandalocker.tools.hash=c.pandalocker.tools.hash||function(t){var e=0;if(!t||0===t.length)return e;for(var o=0;o<t.length;o++){e=(e<<5)-e+t.charCodeAt(o);e&=e}return(e=e.toString(16)).replace("-","0")},c.pandalocker.tools.has3d=c.pandalocker.tools.has3d||function(){var t,e,o=document.createElement("p"),n={WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MSTransform:"-ms-transform",MozTransform:"-moz-transform",Transform:"transform"};for(e in o.className="onp-sl-always-visible",document.body.insertBefore(o,null),n)void 0!==o.style[e]&&(o.style[e]="translate3d(1px,1px,1px)",t=window.getComputedStyle(o).getPropertyValue(n[e]));return document.body.removeChild(o),void 0!==t&&0<t.length&&"none"!==t},c.pandalocker.tools.canBlur=c.pandalocker.tools.canBlur||function(){var t=document.createElement("div"),t=(t.style.cssText=_browserPrefixes.join("filter:blur(2px); "),!!t.style.length&&(void 0===document.documentMode||9<document.documentMode));if(t)return!0;try{t=2==SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE}catch(t){}return t},c.pandalocker.isTouch=c.pandalocker.isTouch||function(){return!!("ontouchstart"in window)||!!("onmsgesturechange"in window)},c.pandalocker.widget=function(i,n){var r=function(t,e){var o=c.extend(!0,{},n);o.element=c(t),o.options=c.extend(!0,o.options,e),o._init&&o._init(),o._create&&o._create(),c.data(t,"plugin_"+i,o)},s=function(t,e){return t[e]&&t[e]()};c.fn[i]=function(){var e=arguments,o=arguments.length,n=this;return this.each(function(){var t=c.data(this,"plugin_"+i);!t&&o<=1?r(this,!!o&&e[0]):1==o&&(n=s(t,e[0]))}),n}},c.pandalocker.detectBrowser=c.pandalocker.detectBrowser||function(){var t=(jQuery.uaMatch||function(t){t=t.toLowerCase();t=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:t[1]||"",version:t[2]||"0"}})(navigator.userAgent),e=(c.pandalocker.browser={},t.browser&&(c.pandalocker.browser[t.browser]=!0,c.pandalocker.browser.version=t.version),t=-1,"Microsoft Internet Explorer"==navigator.appName?(e=navigator.userAgent,null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))):"Netscape"==navigator.appName&&(e=navigator.userAgent,null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(e))&&(t=parseFloat(RegExp.$1)),t);0<e&&(c.pandalocker.browser.msie=!0,c.pandalocker.browser.version=e),c.pandalocker.browser.chrome?c.pandalocker.browser.webkit=!0:c.pandalocker.browser.webkit&&(c.pandalocker.browser.safari=!0)},c.pandalocker.detectBrowser(),c.pandalocker.tools.camelCase=function(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})},c.pandalocker.tools.capitaliseFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},c.pandalocker.tools.isMobile=function(){return!!/webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)||!(!/Android/i.test(navigator.userAgent)||!/Mobile/i.test(navigator.userAgent))},c.pandalocker.tools.isTabletOrMobile=function(){return!!/webOS|iPhone|iPad|Android|iPod|BlackBerry/i.test(navigator.userAgent)},c.pandalocker.tools.isInAppBrowser=function(){return!!c.pandalocker.tools.getInAppBrowser()},c.pandalocker.tools.getInAppBrowser=function(){return/FBAN|FBAV/i.test(navigator.userAgent)?"Facebook In-App browser":/Instagram/i.test(navigator.userAgent)?"Instagram In-App browser":/Twitter/i.test(navigator.userAgent)?"Twitter In-App browser":!!/VKAndroid/i.test(navigator.userAgent)&&"VK In-App browser"},c.pandalocker.tools.updateQueryStringParameter=function(t,e,o){var n=new RegExp("([?&])"+e+"=.*?(&|$)","i"),i=-1!==t.indexOf("?")?"&":"?";return t.match(n)?t.replace(n,"$1"+e+"="+o+"$2"):t+i+e+"="+o},c.pandalocker.tools.isValidEmailAddress=function(t){return new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i).test(t)},c.pandalocker.tools.isValidUrl=function(t){return new RegExp(/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i).test(t)},c.pandalocker.tools.findLeftWindowBoundry=function(){return window.screenLeft||window.screenX||0},c.pandalocker.tools.findTopWindowBoundry=function(){return window.screenTop||window.screenY||0},c.pandalocker.tools.extractJSON=function(t){var e,o,n=t.indexOf("{",n+1);do{if((e=t.lastIndexOf("}"))<=n)return null;do{o=t.substring(n,e+1);try{var i=c.parseJSON(o);if(i)return i}catch(t){}}while(n<(e=t.substr(0,e).lastIndexOf("}")))}while(-1!=(n=t.indexOf("{",n+1)));return!1},c.pandalocker.tools.saveValue=function(e,o,n){if(localStorage&&localStorage.setItem)try{localStorage.setItem(e,o)}catch(t){c.pandalocker.tools.cookie(e,o,{expires:n,path:"/"})}else c.pandalocker.tools.cookie(e,o,{expires:n,path:"/"})},c.pandalocker.tools.getValue=function(t,e){var o=localStorage&&localStorage.getItem&&localStorage.getItem(t);return(o=o||c.pandalocker.tools.cookie(t))||e},c.pandalocker.tools.guid=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(jQuery),!function(c){"use strict";c.pandalocker.sdk=c.pandalocker.sdk||{_ready:{},_connected:{},_error:{},getSDK:function(t){return t=c.pandalocker.tools.camelCase(t),c.pandalocker.sdk[t]||null},isConnected:function(e){var o;return 0<c("#"+e.scriptId).length||(o=!1,c("script").each(function(){var t=c(this).attr("src");return!t||((o=-1!==t.indexOf(e.url))?(c(this).attr("id",e.scriptId),!1):void 0)}),o)},getLoadingScript:function(t){var e=c("#"+t.scriptId),t=c("script[src='*"+t.url+"']");return 0<e.length?e:t},isLoaded:function(t){return this.isConnected(t)&&t.isLoaded&&t.isLoaded()},connect:function(o,t,e){var n,i,r,s=this,a=this.getSDK(o),l=new c.pandalocker.deferred;return a?(a.options=t,setTimeout(function(){a.isLoaded()?s.setup&&s.setup():(s._connected[o]=!1,l.reject("timeout"))},e),this._ready[o]?l.resolve():(c(document).bind(o+"-init",function(){l.resolve()}),c(document).bind(o+"-error",function(t,e){s._error[o]=!0,l.reject(e)}),this._connected[o]&&!s._error[o]||(a.createEvents||(a.createEvents=function(){function t(){c(document).trigger(a.name+"-init")}var e=a.isLoaded();return e?void t():void c(document).bind(a.name+"-script-loaded",function(){t()})}),a.prepare&&a.prepare(),t=a.isLoaded(),n=this.isConnected(a),c(document).bind(o+"-init",function(){s._ready[o]=!0}),this._connected[o]||a.createEvents(),n&&!s._error[o]||(s._error[o]&&(r=this.getLoadingScript(a))&&r.remove(),(n=document.createElement("script")).type="text/javascript",n.id=a.scriptId,n.src=a.url,(i=a.getScriptBody?a.getScriptBody():null)&&(n.innerHtml=i),document.getElementsByTagName("body")[0].appendChild(n)),t||((r=this.getLoadingScript(a)[0]).onerror=function(t){console&&console.log("Failed to load SDK script:"),console&&console.log(t),c(document).trigger(a.name+"-error",["blocked"])},r.onreadystatechange=r.onload=function(){var t=r.readyState;t&&!/loaded|complete/.test(t)||(c(document).trigger(a.name+"-script-loaded"),c(document).unbind(a.name+"-script-loaded"))}),setTimeout(function(){a.isLoaded()||c(document).trigger(a.name+"-error",["timeout"])},e),this._connected[o]=!0))):(console&&console.log("Invalide SDK name: "+o),l.reject("invalide-sdk")),l.promise()}}}(jQuery),!function(t){function n(){var t=this;return(t=t&&t.hasOwnProperty&&t instanceof n?t:new n)._init.apply(t,arguments)}var s,i,a,l,c,r,d,u,p,h,f,g,k,m,o,v,w;s="absolute",i="relative",a="/",l="type",c="scheme",r="userInfo",d="host",u="port",p="path",h="query",f="fragment",g=/^(?:(https?:\/\/|\/\/)|(\/|\?|#)|[^;:@=\.\s])/i,k=/^(?:(https?):\/\/|\/\/)(?:([^:@\s]+:?[^:@\s]+?)@)?((?:[^;:@=\/\?\.\s]+\.)+[A-Za-z0-9\-]{2,})(?::(\d+))?(?=\/|\?|#|$)([^\?#]+)?(?:\?([^#]+))?(?:#(.+))?/i,m=/^([^\?#]+)?(?:\?([^#]+))?(?:#(.+))?/i,o=/^\s+|\s+$/g,v=String.prototype.trim?function(t){return t&&t.trim?t.trim():t}:function(e){try{return e.replace(o,"")}catch(t){return e}},w=function(t){return"string"==typeof t},n.ABSOLUTE=s,n.RELATIVE=i,n.normalize=function(t){return new n(t).toString()},n.resolve=function(t,e){return new n(t).resolve(e).toString()},n.prototype={_init:function(t){return this.constructor=n,t=w(t)?t:t instanceof n?t.toString():null,this._original=t,this._url={},this._isValid=this._parse(t),this},toString:function(){var t=this._url,e=[],o=t[l],n=t[c],i=t[p],r=t[h],t=t[f];return o===s&&(e.push(n?n+"://":"//",this.authority()),i)&&0!==i.indexOf(a)&&(i=a+i),e.push(i,r?"?"+this.queryString():"",t?"#"+t:""),e.join("")},original:function(){return this._original},isValid:function(){return this._isValid},isAbsolute:function(){return this._url[l]===s},isRelative:function(){return this._url[l]===i},isHostRelative:function(){var t=this._url[p];return this.isRelative()&&t&&0===t.indexOf(a)},type:function(){return this._url[l]},scheme:function(t){return arguments.length?this._set(c,t):this._url[c]},userInfo:function(t){return arguments.length?this._set(r,t):this._url[r]},host:function(t){return arguments.length?this._set(d,t):this._url[d]},domain:function(){var t=this._url[d];return t?t.split(".").slice(-2).join("."):void 0},port:function(t){return arguments.length?this._set(u,t):this._url[u]},authority:function(){var t=this._url,e=t[r],o=t[d],t=t[u];return[e?e+"@":"",o,t?":"+t:""].join("")},path:function(t){return arguments.length?this._set(p,t):this._url[p]},query:function(t){return arguments.length?this._set(h,t):this._url[h]},queryString:function(t){if(arguments.length)return this._set(h,this._parseQuery(t));t="";var e,o,n=this._url[h];if(n)for(e=0,o=n.length;e<o;e++)t+=n[e].join("="),e<o-1&&(t+="&");return t},fragment:function(t){return arguments.length?this._set(f,t):this._url[f]},resolve:function(t){var e,o;return t=t instanceof n?t:new n(t),this.isValid()&&t.isValid()?t.isAbsolute()?!this.isAbsolute()||t.scheme()?t:new n(t).scheme(this.scheme()):(e=new n(this.isAbsolute()?this:null),t.path()?(o=t.isHostRelative()||!this.path()?t.path():this.path().substring(0,this.path().lastIndexOf(a)+1)+t.path(),e.path(this._normalizePath(o)).query(t.query()).fragment(t.fragment())):t.query()?e.query(t.query()).fragment(t.fragment()):t.fragment()&&e.fragment(t.fragment()),e):this},reduce:function(t){t=t instanceof n?t:new n(t);t=this.resolve(t);return this.isAbsolute()&&t.isAbsolute()&&t.scheme()===this.scheme()&&t.authority()===this.authority()&&t.scheme(null).userInfo(null).host(null).port(null),t},_parse:function(t,e){if(t=v(t),!(w(t)&&0<t.length))return!1;var o,n;switch(e=e?e:(e=t.match(g))?e[1]?s:e[2]?i:null:null){case s:(o=t.match(k))&&((n={})[l]=s,n[c]=o[1]?o[1].toLowerCase():void 0,n[r]=o[2],n[d]=o[3].toLowerCase(),n[u]=o[4]?parseInt(o[4],10):void 0,n[p]=o[5]||a,n[h]=this._parseQuery(o[6]),n[f]=o[7]);break;case i:(o=t.match(m))&&((n={})[l]=i,n[p]=o[1],n[h]=this._parseQuery(o[2]),n[f]=o[3]);break;default:return this._parse(t,s)||this._parse(t,i)}return!!n&&(this._url=n,!0)},_parseQuery:function(t){if(w(t)){for(var e,o=[],n=(t=v(t)).split("&"),i=0,r=n.length;i<r;i++)n[i]&&(e=n[i].split("="),o.push(e[1]?e:[e[0]]));return o}},_set:function(t,e){return!(this._url[t]=e)||t!==c&&t!==r&&t!==d&&t!==u||(this._url[l]=s),e||t!==d||(this._url[l]=i),this._isValid=this._parse(this.toString()),this},_normalizePath:function(t){var e,o,n,i,r,s;if(-1<t.indexOf("../")){for(n=[],r=0,s=(e=t.split(a)).length;r<s;r++)".."===(o=e[r])?n.pop():o&&n.push(o);i=n.join(a),t[0]===a&&(i=a+i),t[t.length-1]===a&&1<i.length&&(i+=a)}else i=t;return i}},t.pandalocker||(t.pandalocker={}),t.pandalocker.tools||(t.pandalocker.tools={}),t.pandalocker.tools.URL=n}(jQuery),!function(p,h,f){"use strict";function g(){var t=h.createElement("div");return t.style.cssText=o.join("filter:blur(2px); "),!!t.style.length&&(void 0===h.documentMode||9<h.documentMode)}function k(){var t=!1;try{t=2==SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE}catch(t){}return t}function e(t,e){var o,n,i,r=f.extend({intensity:5,forceSVGUrl:!1,animationOptions:{duration:1e3,easing:"linear"}},e),s={},a=g(),l=k(),c=!1,d=function(t){if(s[t]||""===s[t])return s[t]+t;for(var e=h.createElement("div"),o=["","Moz","Webkit","O","ms","Khtml"],n=0;n<o.length;n++)if(void 0!==e.style[o[n]+t])return s[t]=o[n],o[n]+t;return t.toLowerCase()}("Filter"),u=function(t){return h.createElementNS("http://www.w3.org/2000/svg",t)};return this.$elm=t instanceof f?t:f(t),this.init=function(){return l&&(t=u("svg"),e=u("filter"),o=u("feGaussianBlur"),t.setAttribute("style","position:absolute"),t.setAttribute("width","0"),t.setAttribute("height","0"),e.setAttribute("id","blur-effect-id-"+m.filterId),e.appendChild(o),t.appendChild(e),f("body").append(t)),n=m.filterId,m.filterId++,this;var t,e},this.blur=function(){var t=p.location,t=r.forceSVGUrl?t.protocol+"//"+t.host+t.pathname:"",t=a?"blur("+r.intensity+"px)":l?(o.setAttribute("stdDeviation",r.intensity),"url("+t+"#blur-effect-id-"+n+")"):"progid:DXImageTransform.Microsoft.Blur(pixelradius="+r.intensity+")";return this.$elm[0].style[d]=t,c=!0,this},this.animate=function(t,e){if("number"!=typeof t)throw typeof t+" is not a valid number to animate the blur";if(t<0)throw"I can animate only positive numbers";var o=new f.Deferred;return i&&i.stop(!0,!0),i=new f.Animation(r,{intensity:t},f.extend(r.animationOptions,e)).progress(f.proxy(this.blur,this)).done(o.resolve),o.promise()},this.unblur=function(){return this.$elm.css(d,"none"),this.$elm[0].style[d]="none",c=!1,this},this.toggleblur=function(){return c?this.unblur():this.blur(),this},this.destroy=function(){for(var t in l&&f("filter#blur-effect-id-"+n).parent().remove(),this.unblur(),this)delete this[t];return this},this.init()}var m={filterId:0},o=" -webkit- -moz- -o- -ms- ".split(" ");f.fn.Vague=function(t){return new e(this,t)},f.pandalocker.tools.supportBlurring=function(){return!(f.pandalocker.browser.msie&&9<f.pandalocker.browser.version&&f.pandalocker.browser.msie<12||!g()&&!k())}}(window,document,jQuery),!function(i){"use strict";i.pandalocker.storages.defaultStateStorage=function(t){t=t.options;this.demo=t.demo,this.useCookies=t.locker.useCookies,this.expires=t.locker.expires,this.isUnlocked=function(t){return!this.demo&&!!this._getValue(t)},this.isLocked=function(t){return!this.isUnlocked(t)},this.requestState=function(t,e){return this.demo?e("locked"):void e(this.isUnlocked(t)?"unlocked":"locked")},this.setState=function(t,e){if(this.demo)return!0;try{return"unlocked"===e?this._setValue(t):this._removeValue(t)}catch(t){console&&console.log(t)}},this._setValue=function(t){if(!t)return!1;var e=!0,o=1e4,n=(this.expires&&(n=(new Date).getTime()+1e3*this.expires,o=Math.ceil(this.expires/86400),e=JSON.stringify({expires:n})),!0);if(localStorage&&!this.useCookies){n=!1;try{localStorage.setItem(t,e)}catch(t){console&&console.log(t),n=!0}}return n&&i.pandalocker.tools.cookie(t,e,{expires:o,path:"/"}),!0},this._getValue=function(t){if(!t)return!1;var e=localStorage&&!this.useCookies&&localStorage.getItem(t);if(e=e||i.pandalocker.tools.cookie(t))try{var o,n=JSON.parse(e);return n&&n.expires?(o=new Date,n.expires>o):!0}catch(t){return!0}},this._removeValue=function(t){return!!t&&(localStorage&&localStorage.removeItem(t),void i.pandalocker.tools.cookie(t,null))}}}(jQuery),!function(s){"use strict";s.pandalocker.services.visibility=function(){this.canLock=function(t){if(t)for(var e in t){e=t[e];if(!this.isVisible(e))return!1}return!0},this.isVisible=function(t){var e;return!t.conditions||(e=this.matchFilter(t),"showif"===(t=t.type||"showif")?e:"hideif"===t?!e:void 0)},this.matchFilter=function(t){var e,o=!0;for(e in t.conditions){var n=t.conditions[e];this.matchScope(n)||(o=!1)}return o},this.matchScope=function(t){var e,o=!1;if(!t.conditions)return!0;for(e in t.conditions){var n=t.conditions[e];this.matchCondition(n)&&(o=!0)}return o},this.matchCondition=function(t){var e=t.param,o=t.operator,n=t.value,i=t.type||"text",r=this.getValueProvider(e);return r?null===(t=r.getValue(t))?(console&&console.log('[visibility]: the value returned from the provider "%s" equals to null.'.replace("%s",e)),!0):(r.compare?r:this).compare(o,n,t,i):(console&&console.log('[visibility]: the value provider "%s" not found.'.replace("%s",e)),!0)},this.getValueProvider=function(t){var e=s.pandalocker.services.visibilityProviders[t];return s.pandalocker.filters.run("visibility-value-provider",[e,t])},this.compare=function(t,e,o,n){switch(e=this.castValue(e,n,"date"===n&&("equals"===t||"notequal"===t)?"range":null),o=this.castValue(o,n),t){case"equals":return s.isArray(o)?-1<s.inArray(e,o):e.range?o>e.start&&o<e.end:e===o;case"notequal":return s.isArray(o)?-1===s.inArray(e,o):e.range?!(o>e.start&&o<e.end):e!==o;case"less":case"older":return o<e;case"greater":case"younger":return e<o;case"contains":return-1<o.indexOf(e);case"notcontain":return-1===o.indexOf(e);case"between":return o>=e.start&&o<=e.end}return!0},this.castValue=function(t,e,o){if(null===t)return t;if(s.isArray(t)){for(var n=0;n<t.length;n++)t[n]=this.castValue(t[n],e);return t}var i,r;if(void 0!==t.start)return i=this.castValue(t.start,e,"start"),r=this.castValue(t.end,e,"end"),"relative"===t.start.type?(t.end=i,t.start=r):(t.end=r,t.start=i),t;switch(e){case"text":case"select":return""+t;case"integer":return parseInt(t);case"date":return this.castToDate(t,o)}},this.castToDate=function(t,e){var o,n,i,r=(new Date).getTime();if("relative"!==t.type)return"range"===e?(o=(i=new Date(t)).getUTCDate(),n=i.getUTCMonth(),i=i.getUTCFullYear(),{range:!0,start:Date.UTC(i,n,o),end:Date.UTC(i,n,o,23,59,59,999)}):t;var s=parseInt(t.unitsCount);switch(t.units){case"seconds":var a=r-1e3*s;break;case"minutes":a=r-60*s*1e3;break;case"hours":a=r-60*s*60*1e3;break;case"days":a=r-60*s*60*24*1e3;break;case"weeks":a=r-60*s*60*24*7*1e3;break;case"months":a=r-60*s*60*24*30*1e3;break;case"years":a=r-60*s*60*24*365*1e3}if("range"!==e)return a;var l={range:!0,end:a,start:0};switch(t.units){case"seconds":l.start=l.end-1e3;break;case"minutes":l.start=l.end-6e4;break;case"hours":l.start=l.end-36e5;break;case"days":l.start=l.end-864e5;break;case"weeks":l.start=l.end-6048e5;break;case"months":l.start=l.end-2592e6;break;case"years":l.start=l.end-31536e6}return l}},s.pandalocker.services.visibilityProviders={},s.pandalocker.services.visibilityProviders["user-mobile"]={getValue:function(){return s.pandalocker.tools.isMobile()?"yes":"no"}},s.pandalocker.services.visibilityProviders["location-page"]={getValue:function(){return window.location.href}},s.pandalocker.services.visibilityProviders["location-referrer"]={getValue:function(){return document.referrer}}}(jQuery),!function(a){"use strict";a.pandalocker.services.subscription=function(t){this.id=t.id,this.serviceOptions=t,this.cookieName="opanda_"+t.name+"_"+t.service+"_"+t.listId,this.checkingInterval=t.checkingInterval||1e4,this._call=function(t,e,o){function n(t){t&&t.readyState<4||console&&console.log&&(console.log("Invalide ajax response:"),console.log(t.responseText),r.reject(t))}var i={},r=(i.opandaIdentityData=e,i.opandaServiceData=o,i.opandaHandler="subscription",i.opandaRequestType=t,i.opandaService=this.serviceOptions.service,i.opandaListId=this.serviceOptions.listId,i.opandaDoubleOptin=this.serviceOptions.doubleOptin,i.opandaConfirm=this.serviceOptions.confirm,i.opandaRequireName=this.serviceOptions.requireName,i=a.pandalocker.filters.run(this.id+".ajax-data",[i]),i=a.pandalocker.filters.run(this.id+".subscribe.ajax-data",[i]),this.serviceOptions.parentId&&(i=a.pandalocker.filters.apply("subscription-data-"+this.serviceOptions.parentId,i)),new a.pandalocker.deferred),s=a.ajax({type:"POST",dataType:"text",url:this.serviceOptions.proxy,data:i,error:function(){n(s)},success:function(t){t=a.pandalocker.tools.extractJSON(t);return t?void r.resolve(t):n(s)}});return r.promise()},this.subscribe=function(e,t){var o=this,n=new a.Deferred;return this._call("subscribe",e,t).done(function(t){return console.log(t),t&&t.error?void n.reject(t):(!t||"subscribed"!==t.status)&&o.serviceOptions.doubleOptin&&o.serviceOptions.confirm?(o._setWaitingStatus(e),n.notify("waiting-confirmation"),void o.waitSubscription(e).done(function(t){n.resolve(t)}).fail(function(t){n.reject(t)}).always(function(){o._removeWaitingStatus()})):void n.resolve(t)}).fail(function(t){t&&t.readyState<4||n.reject({error:a.pandalocker.lang.errors.ajaxError})}),n.promise()},this.waitSubscription=function(e){var o=this,n=new a.Deferred;return this._waitingConfirmationResult=n,o._isCanceled?void(o._isCanceled=!1):(this.check(e).done(function(t){return o._isCanceled?void(o._isCanceled=!1):(console&&console.log&&console.log("waiting subscription..."),console&&console.log&&console.log(t),t&&"subscribed"===t.status?void n.resolve(t):void setTimeout(function(){var t=o.waitSubscription(e);t&&(t.done(function(t){n.resolve(t)}),t.fail(function(t){n.reject(t)}))},o.checkingInterval))}).fail(function(t){return o._isCanceled?void(o._isCanceled=!1):void n.reject(t)}),n.promise())},this.check=function(t){var e=new a.Deferred;return this._call("check",t).done(function(t){return t.error?void e.reject(t):void e.resolve(t)}).fail(function(t){t&&t.readyState<4||e.reject({error:a.pandalocker.lang.errors.ajaxError})}),e.promise()},this.cancel=function(){this._isCanceled=!0,this._removeWaitingStatus(),this._waitingConfirmationResult&&(this._waitingConfirmationResult.reject({error:a.pandalocker.lang.errors_subscription_canceled}),this._waitingConfirmationResult=null)},this._setWaitingStatus=function(e){e=JSON.stringify(e);if(localStorage&&localStorage.setItem)try{localStorage.setItem(this.cookieName,e)}catch(t){a.pandalocker.tools.cookie(this.cookieName,e,{expires:365,path:"/"})}else a.pandalocker.tools.cookie(this.cookieName,e,{expires:365,path:"/"})},this._removeWaitingStatus=function(){localStorage&&localStorage.removeItem&&localStorage.removeItem(this.cookieName),a.pandalocker.tools.cookie(this.cookieName,!1,{expires:0,path:"/"})},this.isWaitingSubscription=function(){return!!this.getWaitingIdentityData()},this.getWaitingIdentityData=function(){var t=localStorage&&localStorage.getItem&&localStorage.getItem(this.cookieName);return(t=t||a.pandalocker.tools.cookie(this.cookieName))&&JSON.parse(t)}}}(jQuery),!function(t){"use strict";t.pandalocker.extras||(t.pandalocker.extras={}),t.pandalocker.extras.interrelation={init:function(){var o,n=this.options.locker&&this.options.locker.scope;n&&((o=this).addHook("state-changed",function(t,e){"unlocked"===e&&o._getStateStorage().setState("scope_"+n,"unlocked")}),this.addFilter("functions-requesting-state",function(t){return t.push(function(e){o._getStateStorage().requestState("scope_"+n,function(t){e(t)})}),t}),this.addHook("unlocked",function(t,e){"button"===e&&o.runHook("unlocked-by-scope-"+n,[],!0)}),this.addHook("unlocked-by-scope-"+n,function(t){t!==o&&o.unlock("scope")},10,!0))}}}(jQuery),!function(t){"use strict";t.pandalocker.extras||(t.pandalocker.extras={}),t.pandalocker.extras.googleAnalytics={init:function(){var r;this.options.googleAnalytics&&(this.addHook("unlocked",function(t,e,o,n){var i;(window._gaq||window.ga)&&(n=n||window.location.href,"button"===e?(i=null,i="facebook-like"===o?"Facebook Like":"facebook-share"===o?"Facebook Share":"twitter-tweet"===o?"Twitter Tweet":"twitter-follow"===o?"Twitter Follow":"google-plus"===o?"Google Plus":"google-share"===o?"Google Share":"linkedin-share"===o?"LinkedIn Share":"google-youtube"===o?"Google Youtube":"facebook"===o?"Facebook Sign-In":"twitter"===o?"Twitter Sign-In":"google"===o?"Google Sign-In":"linkedin"===o?"LinkedIn Sign-In":"form"===o?"Opt-In Form":o.substr(0,1).toUpperCase()+o.substr(1),r("Lockers","Unlocked (Total)",n),r("Lockers ","Unlocked via "+i,n)):"timer"===e?(r("Lockers","Skipped (Total)",n),r("Lockers ","Skipped via Timer",n)):"cross"===e&&(r("Lockers","Skipped (Total)",n),r("Lockers ","Skipped via Cross",n)))}),r=function(t,e,o){window.ga?window.ga("send","event",t,e,o):window._gaq.push(["_trackEvent",t,e,o])})}}}(jQuery),!function(t){"use strict";t.pandalocker.extras||(t.pandalocker.extras={}),t.pandalocker.extras.na={init:function(){var n=this,i=0,r=0,s={};this.addHook("control-error",function(t,e,o){i||(i=function(){for(var t=0,e=0;e<n._groups.length;e++)for(var o=0;o<n._groups[e].controls.length;o++)t++;return t}(),r=i);o=o+"-"+e;s[o]||(s[o]=!0,0<--r)||(n.runHook("na"),"show-content"===n.options.locker.naMode&&n.unlock("na"))})}}}(jQuery),!function(a){"use strict";var t={init:function(t,e){var o=a.extend(!0,{},this._defaults);if(this.options=a.extend(!0,o,e),this.groupOptions=t.options,this.lockerOptions=t.locker.options,this.lang=t.lang,this.group=t,this.locker=t.locker,this.groupOptions.senderName&&(this.senderName=this.groupOptions.senderName),!this.name)throw new Error('The property "name" cannot be empty for the control.');this.options.proxy=this.options.proxy||this.groupOptions.proxy||this.lockerOptions.proxy,this.setup&&this.setup(),this.setupHooks&&this.setupHooks(),this.prepareOptions&&this.prepareOptions()},_defaults:{},renderControl:function(t){this.control=a(this.tag||"<div>").addClass("onp-sl-control").addClass("onp-sl-"+this.name).appendTo(t),this.innerWrap=a("<div></div>").addClass("onp-sl-control-inner-wrap").appendTo(this.control),this._isRendered=!0,this._hasError()&&this.showError(),this.render(this.innerWrap)},render:function(){throw new Error("The control should implement the method 'render'")},unlock:function(t,e,o){this.setState("unlocked"),this.group.unlock(t||"button",e||this.senderName||this.name,o)},addClassToLocker:function(t){this.group.addClassToLocker(t)},_trackWindow:function(r,s){var a=window.open;window.open=function(t,e,o){var n,i=a(t,e,o);return t&&-1!==t.indexOf(r)&&(n=setInterval(function(){i&&!1===i.closed||(clearInterval(n),s&&s())},300)),i}},requestState:function(t){this._getStateStorage().requestState(this._getStorageIdentity(),t)},setState:function(t,e){this._getStateStorage().setState(this._getStorageIdentity(),t,e),this.group.setState(t,"button",this.name)},_getStorageIdentity:function(){return"control_"+this.name},_getStateStorage:function(){return this.locker._getStateStorage()},_setLoadingState:function(t){this._stateSender||(this._stateSender=t,this.control.addClass("onp-sl-state-loading"),this._isLoadingState=!0)},_removeLoadingState:function(t){this._stateSender&&this._stateSender!==t||(this._stateSender=null,this.control.removeClass("onp-sl-state-loading"),this._isLoadingState=!1)},_isLoading:function(){return this._isLoadingState},_setError:function(t){this._error||(this._error=t)},_hasError:function(){return!!this._error},showError:function(t,e){var o=this;this.runHook("control-error",[o.name,o.group.name]),o.group.onControlError&&o.group.onControlError(o.name),this._isRendered?(e=e||this.innerWrap,t=t||this._error,this.control.hasClass("onp-sl-state-error")||(this.control.removeClass("onp-sl-state-loading").addClass("onp-sl-state-error"),this.createErrorMarkup(t).appendTo(e).find(".onp-sl-error-title").click(function(){return o.group.showError(o.name,t),!1}))):this._setError(t)},createErrorMarkup:function(){return a("<div class='onp-sl-error-body'><a href='#' class='onp-sl-error-title'>"+a.pandalocker.lang.error+"</a></div>")},showNotice:function(t,e){this.group.showNotice(t,null,e)},addHook:function(t,e,o){return this.group.addHook(t,e,o)},runHook:function(t,e){return this.group.runHook(t,e)},addFilter:function(t,e,o){return this.group.addFilter(t,e,o)},applyFilters:function(t,e,o){return this.group.applyFilters(t,e,o)},requireSdk:function(e,t){var o,n=new a.pandalocker.deferred;return e?(o=this.group.options.loadingTimeout||this.lockerOptions.locker.loadingTimeout||2e4,(t=this.attemptToLoad(e,t||{},5,o)).done(function(){n.resolve()}),t.fail(function(t){t=a.pandalocker.lang.errors.unableToLoadSDK.replace("{0}",e).replace("{1}",t);n.reject(t)})):n.resolve(),n.promise()},attemptToLoad:function(e,o,n,i){var r=this,s=(n=n||5,new a.pandalocker.deferred),t=a.pandalocker.sdk.connect(e,o||{},i);return t.done(function(){s.resolve()}),t.fail(function(t){console.log('Failed to load SDK script "'+e+'" due to the error "'+t+'". '+n+" attempts left."),"timeout"!==t&&"blocked"!==t&&s.reject(t),n-1<=0?s.reject(t):r.attemptToLoad(e,o,n-1,i).done(function(){s.resolve()}).fail(function(){s.reject(t)})}),s.promise()},verifyButton:function(){var e=this,o=new a.pandalocker.deferred,n=e.verification.timeout,i=function(){if((e.customVerifyButton&&!e.customVerifyButton()||0===e.control.find(e.verification.container).length)&&0<=n)setTimeout(function(){i()},500),n-=500;else{var t;if(n<=0)return t=a.pandalocker.lang.errors.unableToCreateControl.replace("{0}",e.networkName),o.reject(t);o.resolve()}};return i(),o.promise()},showScreen:function(t,e){this.group.showScreen(t,e)}};a.pandalocker.entity.control=t}(jQuery),!function(c){"use strict";var t=c.pandalocker.tools.extend(c.pandalocker.entity.control);t.setup=function(){var t,e=this,o=(this.options.actions=this.options.actions||[],!1);for(t in this.options.actions)"subscribe"===this.options.actions[t]&&(this.options.actions.splice(t,1),o=!0);o&&this.options.actions.push("subscribe"),this.groupOptions.actions&&(this.options.actions=c.extend(this.options.actions,this.groupOptions.actions));for(var n,i=0;i<this.options.actions.length;i++){var r=c.pandalocker.tools.camelCase(this.options.actions[i]),s=(this.options[r]=this.options[r]||{},r+"Options"),s=(this.groupOptions[s]&&(this.options[r]=c.extend(!0,this.options[r],this.groupOptions[s])),r+"ActionOptions");this.lockerOptions[s]&&(this.options[r]=c.extend(!0,this.options[r],this.lockerOptions[s]))}this.options.proxy=this.options.proxy||this.groupOptions.proxy||this.lockerOptions.proxy,this.options.lazy=this.options.lazy||this.groupOptions.lazy||this.lockerOptions.lazy,o&&(n={id:e.locker.id,proxy:e.lockerOptions.proxy,name:e.name,listId:e.options[r].listId,service:e.options[r].service,doubleOptin:e.options[r].doubleOptin,confirm:e.options[r].confirm,requireName:e.options[r].requireName||!1},n=new c.pandalocker.services.subscription(n),this.subscriptionService=e.applyFilters("get-default-subscription-service",n))},t.runActions=function(o,n,i){var r,s,a=new c.Deferred,l=this;if(!this._actionsDone)return this._actionsDone=!0,r=this.options.actions.slice(),i&&this.showScreen("data-processing"),(s=function(){var t=r.shift();if(t){var e=l.options[c.pandalocker.tools.camelCase(t)],t=c.pandalocker.tools.camelCase("run-"+t+"-action");if(!l[t])throw a.reject(),l._actionsDone=!1,new Error("The action '"+t+"' not found.");l[t](o,n,e,i,function(t){return"error"===t?(l.runHook("raw-error"),a.reject(t),l._actionsDone=!1,l.showScreen("default")):void s()})}else a.resolve(),l.unlock()})(),a.promise()},t.runSubscribeAction=function(e,o,t,n,i){function r(){n&&s.showScreen("data-processing");var t=s.subscriptionService.subscribe(e,o);s._setupSubscriptionHooks(t,e),t.fail(function(){i("error")})}var s=this;console.log("serviceData = "),console.log(o);return e.email?void r():this.showScreen("enter-email",{header:c.pandalocker.lang.onestep_screen_title,message:c.pandalocker.lang.onestep_screen_instructiont,buttonTitle:c.pandalocker.lang.onestep_screen_button,note:c.pandalocker.tools.normilizeHtmlOption(s.options.noSpamText||s.groupOptions.text.noSpamText||c.pandalocker.lang.noSpam),callback:function(t){e.email=t,r()}})},t.runSignupAction=function(e,t,o,n,i){function r(){n&&s.showScreen("data-processing");var t={};return t.opandaIdentityData=e,t.opandaHandler="signup",t=c.pandalocker.filters.run(s.locker.id+".ajax-data",[t]),t=c.pandalocker.filters.run(s.locker.id+".signup.ajax-data",[t]),c.ajax({type:"POST",dataType:"json",url:s.lockerOptions.proxy,data:t,success:function(){i()},error:function(t){t&&t.readyState<4||(s.showScreen("default"),s.showError("Unable to sign in, the ajax error occurred."),i("error"),console&&console.log&&(console.log("Invalide ajax response:"),console.log(t.responseText)))}})}var s=this;return e.email?void r():this.showScreen("enter-email",{header:c.pandalocker.lang.onestep_screen_title,message:c.pandalocker.lang.onestep_screen_instructiont,buttonTitle:c.pandalocker.lang.onestep_screen_button,note:c.pandalocker.tools.normilizeHtmlOption(s.options.noSpamText||s.groupOptions.text.noSpamText||c.pandalocker.lang.noSpam),callback:function(t){e.email=t,r()}})},t.runLeadAction=function(e,t,o,n,i){function r(){n&&s.showScreen("data-processing");var t={};return t.opandaIdentityData=e,t.opandaHandler="lead",t=c.pandalocker.filters.run(s.locker.id+".ajax-data",[t]),t=c.pandalocker.filters.run(s.locker.id+".lead.ajax-data",[t]),c.ajax({type:"POST",dataType:"json",url:s.lockerOptions.proxy,data:t,success:function(){i()},error:function(t){t&&t.readyState<4||(s.showScreen("default"),s.showError("Unable to sign in, the ajax error occurred."),i("error"),console&&console.log&&(console.log("Invalide ajax response:"),console.log(t.responseText)))}})}var s=this;return e.email?void r():this.showScreen("enter-email",{header:c.pandalocker.lang.onestep_screen_title,message:c.pandalocker.lang.onestep_screen_instructiont,buttonTitle:c.pandalocker.lang.onestep_screen_button,note:c.pandalocker.tools.normilizeHtmlOption(s.options.noSpamText||s.groupOptions.text.noSpamText||c.pandalocker.lang.noSpam),callback:function(t){e.email=t,r()}})},t._checkWaitingSubscription=function(){var t,e;this.subscriptionService&&this.subscriptionService.isWaitingSubscription()&&(t=this.subscriptionService.getWaitingIdentityData(),e=this.subscriptionService.waitSubscription(t),this._setupSubscriptionHooks(e,t),this.showScreen("email-confirmation",{service:this.subscriptionService,email:t.email}))},t._setupSubscriptionHooks=function(t,e){var o=this;return t.done(function(){o.unlock()}),t.fail(function(t){o.runHook("raw-error"),o.showNotice(t.error),o.showScreen("default"),t.detailed&&console&&console.log&&console.log(t.detailed)}),t.always(function(){o.subscriptionService._removeWaitingStatus()}),t.progress(function(t){o.showScreen("email-confirmation",{service:o.subscriptionService,email:e.email})}),t},c.pandalocker.entity.actionControl=t}(jQuery),!function(s){"use strict";var t={_defaults:{},init:function(t,e){this.locker=t,this.lockerOptions=t.options,this.lang=t.lang,e=e||{};var o,t=s.extend(!0,{},this._defaults);for(o in this.options=s.extend(!0,t,e),e)e.hasOwnProperty(o)&&s.isArray(e[o])&&(this.options[o]=e[o]);this.isFirst=1===e.index,this.isLast=e.index===this.lockerOptions.groups.order.length,this.isSingle=1===this.lockerOptions.groups.order.length,"object"!=typeof this.options.text&&(this.options.text={message:this.options.text}),this.isFirst&&(this.options.text.header=""===this.options.text.header?"":this.options.text.header||this.lang.defaultHeader,this.options.text.message=""===this.options.text.message?"":this.options.text.message||this.lang.defaultMessage),this.options.text.header=s.pandalocker.tools.normilizeHtmlOption(this.options.text.header),this.options.text.message=s.pandalocker.tools.normilizeHtmlOption(this.options.text.message),this.options.text.footer=s.pandalocker.tools.normilizeHtmlOption(this.options.text.footer),!1!==this.options.separator&&((t=s.isPlainObject(this.options.separator)?this.options.separator:{type:"line",title:this.options.separator}).type=t.type||"line",this.options.separator=t),this.childInit&&this.childInit(),this.setup&&this.setup(),this.setupHooks&&this.setupHooks(),this.prepareOptions&&this.prepareOptions();try{this.createControls()}catch(t){if(!t.onpsl)throw t;this.showError(this.name,t.message)}},createControls:function(){this.controls=[];for(var t=0;t<this.options.order.length;t++){var e=this.options.order[t];if("string"==typeof e){if(!s.pandalocker.controls[this.name][e])throw new s.pandalocker.error('Control "'+e+'" not found in the group "'+this.name+'"');e=this.createControl(e);this.controls.push(e)}}},createControl:function(t){var e=s.pandalocker.tools.extend(s.pandalocker.controls[this.name][t]),t=s.pandalocker.tools.camelCase(t),t=this.options[t]||{};return e.init(this,t),e},requestState:function(e){for(var o=this.controls.length,n="locked",t=0;t<this.controls.length;t++)this.controls[t].requestState(function(t){"unlocked"===t&&(n=t),--o<=0&&e(n)})},canLock:function(){return!0},renderGroup:function(t){var e=s("<div class='onp-sl-group onp-sl-"+this.name+"'></div>"),t=(e.appendTo(t),s("<div class='onp-sl-group-inner-wrap'></div>"));t.appendTo(e),e.addClass(this.isFirst?"onp-sl-first-group":this.isLast?"onp-sl-last-group":"onp-sl-middle-group"),e.addClass(this.isSingle?"onp-sl-single-group":"onp-sl-not-single-group"),e.addClass("onp-sl-group-index-"+this.options.index),this.element=e,this.innerWrap=t,this.renderSeparator(),(this.options.text.header||this.options.text.message)&&(e=s("<div class='onp-sl-text'></div>").appendTo(this.innerWrap),this.options.text.header&&e.append(this.options.text.header.addClass("onp-sl-header onp-sl-strong").clone()),this.options.text.message)&&e.append(this.options.text.message.addClass("onp-sl-message").clone()),this._isRendered=!0,this.render(this.innerWrap)},render:function(){this.renderControls(this.innerWrap)},unlock:function(t,e,o){this.locker.unlock(t,e,o)},setState:function(t,e,o){this.locker.setState(t,e||"group",o||this.name)},renderControls:function(t){for(var e=0;e<this.controls.length;e++)this.controls[e].renderControl(t)},showError:function(t,e){var o;this._isRendered?(this.element.find(".onp-sl-group-error").remove(),this._currentErrorFor===t?(this.element.find(".onp-sl-group-error").remove(),this._currentErrorFor=null):(o=s("<div class='onp-sl-group-error'>"+e+"</div>"),this.innerWrap.append(o),this._currentErrorFor=t),this.runHook("size-changed")):this.locker._showError(t,e)},addClassToLocker:function(t){this.locker._addClass(t)},showNotice:function(t,e,o){this.element.find(".onp-sl-group-notice").remove();var n=s("<div class='onp-sl-group-notice'>"+t+"</div>").hide();this.innerWrap.append(n),n.fadeIn(500),e=e||7e3,setTimeout(function(){n.length&&n.fadeOut(800,function(){n.remove(),o&&o()})},e)},renderSeparator:function(){var t,e,o,n,i,r;this.isFirst||!1===this.options.separator||(o=(e=(t=this).options.separator).type,this.element.addClass("onp-sl-has-separator").addClass("onp-sl-has-"+o+"-separator"),n=s("<div class='onp-sl-group-separator onp-sl-"+o+"-separator'></div>"),(i=s("hiding-link"===o?"<a href='#'></a>":"<span></span>").addClass("onp-sl-title").appendTo(n)).html(e.title||s.pandalocker.lang.misc_or),n.appendTo(this.innerWrap),"hiding-link"===o&&(this.element.addClass("onp-sl-separator-hides"),(r=s("<div class='onp-sl-hiding-link-container' style='display: none;'></div>")).appendTo(this.innerWrap),this.innerWrap=r,i.click(function(){return t.element.removeClass("onp-sl-separator-hides"),t.element.addClass("onp-sl-separator-shows"),n.hide(),r.fadeIn(500),t.runHook("size-changed"),!1})))},addHook:function(t,e,o){return this.locker.addHook(t,e,o)},runHook:function(t,e){return this.locker.runHook(t,e)},addFilter:function(t,e,o){return this.locker.addFilter(t,e,o)},applyFilters:function(t,e,o){return this.locker.applyFilters(t,e,o)},showScreen:function(t,e){this.locker._showScreen(t,e)},registerScreen:function(t,e){this.locker._registerScreen(t,e)}};s.pandalocker.entity.group=t}(jQuery),!function(i){"use strict";var t=i.pandalocker.tools.extend(i.pandalocker.entity.group);t._defaults={url:null,layout:"horizontal",flip:!1,order:["twitter-tweet","facebook-like","google-plus"],behaviorOnError:"show_error",behaviorError:"Unable to create Social Buttons. Please make sure that nothing blocks loading of social scripts in your browser. Some browser extentions (Avast, PrivDog, AdBlock, Adguard etc.) or usage of private tabs in FireFox may cause this issue. Turn them off and try again.",counters:!0,facebook:{version:"v2.5",like:{title:i.pandalocker.lang.socialButtons.facebookLike},share:{title:i.pandalocker.lang.socialButtons.facebookShare}},twitter:{tweet:{title:i.pandalocker.lang.socialButtons.twitterTweet},follow:{title:i.pandalocker.lang.socialButtons.twitterFollow}},google:{plus:{title:i.pandalocker.lang.socialButtons.googlePlus},share:{title:i.pandalocker.lang.socialButtons.googleShare}},youtube:{title:i.pandalocker.lang.socialButtons.youtubeSubscribe},linkedin:{share:{title:i.pandalocker.lang.socialButtons.linkedinShare}}},t.name="social-buttons",t.prepareOptions=function(){this.options.lang=this.locker.options.lang,"horizontal"!==this.options.layout&&"vertical"!==this.options.layout&&(this.options.layout="horizontal"),this.options.url=this.options.url||this.locker.options.url,this.locker.options.buttons&&(this.locker.options.buttons.order&&(this.options.order=this.locker.options.buttons.order),void 0!==this.locker.options.buttons.counters)&&(this.options.counters=this.locker.options.buttons.counters),this.locker.options.facebook&&(this.options.facebook=i.extend(!0,this.options.facebook,this.locker.options.facebook)),this.locker.options.twitter&&(this.options.twitter=i.extend(!0,this.options.twitter,this.locker.options.twitter)),this.locker.options.google&&(this.options.google=i.extend(!0,this.options.google,this.locker.options.google)),this.locker.options.linkedin&&(this.options.linkedin=i.extend(!0,this.options.linkedin,this.locker.options.linkedin)),this.locker.options.youtube&&(this.options.youtube=i.extend(!0,this.options.youtube,this.locker.options.youtube))},t.render=function(){this.element.addClass(this.options.counters?"onp-sl-has-counters":"onp-sl-no-counters"),this.element.addClass("onp-sl-"+this.options.layout),this.element.addClass("onp-sl-lang-"+this.options.lang),this._loadedButtons=i.extend([],this.options.order),this.renderControls(this.innerWrap)},t._loadedButtons=[],t.onControlError=function(t){t=jQuery.inArray(t,this._loadedButtons);this._loadedButtons.splice(t,1),0===this._loadedButtons.length&&("show_error"===this.options.behaviorOnError?this.showError("adblock",this.options.behaviorError):this.locker.unlock("error"))},t.createControl=function(t){var e=i.pandalocker.tools.extend(i.pandalocker.controls[this.name][t]),t=t.split("-"),o=2===t.length?t[0]:null,t=2===t.length?t[1]:t[0],n={},t=(o?(this.options[o]&&(n=i.extend({},this.options[o])),this.options[o][t]&&(n=i.extend(n,this.options[o][t]))):this.options[t]&&(n=i.extend(n,this.options[t])),o?this.options[o]:{});return t.lang=this.options.lang,t.counters=this.options.counters,t.url=t.url||this.options.url,e.init(this,n,t),e},t.canLock=function(){return 0!==this.options.order.length},i.pandalocker.groups["social-buttons"]=t}(jQuery),!function(i){"use strict";var t=i.pandalocker.tools.extend(i.pandalocker.entity.control);t.init=function(t,e,o){this.networkOptions=o;o=this.name.split("-");this.networkName=this.sdk||(2===o.length?o[0]:null),this.buttonName=2===o.length?o[1]:o[0],i.pandalocker.entity.control.init.call(this,t,e),this._ssIdentity=this.networkName?"page_"+i.pandalocker.tools.hash(this.url)+"_hash_"+this.networkName+"-"+this.buttonName:"page_"+i.pandalocker.tools.hash(this.url)+"_hash_"+this.buttonName},t._extractUrl=function(){return i.pandalocker.tools.URL.normalize(this.options.url||this.networkOptions.url||window.location.href)},t.render=function(t){var e,o=this;this.networkName&&this.control.addClass("onp-sl-"+this.networkName),this.container=i("<div class='onp-sl-social-button onp-sl-social-button-"+this.name+"'></div>"),this.container.appendTo(t),this._hasError()||(this._setLoadingState(),e=function(){var t=o.requireSdk(o.networkName,o.networkOptions);t.fail(function(t){o._removeLoadingState(),o.showError(t)}),t.done(function(){o.setupEvents(),o.renderButton(o.container),o.verifyButton().always(function(){o._removeLoadingState()}).fail(function(t){o.showError(t)})})},this.locker.options.lazy?this.addHook("raw-impress",function(){o._rendered||(o._rendered=!0,e())}):e()),this._addFlipEffect()},t._addFlipEffect=function(){var t=this.control,e=this.innerWrap,o=this.group.options.flip,n=i.pandalocker.tools.has3d();if(o&&n&&t.addClass("onp-sl-flip")||t.addClass("onp-sl-no-flip"),!o)return!0;o=this.options.title||(this.networkName?i.pandalocker.lang[this.networkName+"_"+this.buttonName]:i.pandalocker.lang[this.networkName]),o=i("<a href='#'></a>").addClass("onp-sl-button-overlay").append(i("<div class='onp-sl-overlay-back'></div>")).append(i("<div class='onp-sl-overlay-front'></div>").append(i("<div class='onp-sl-overlay-icon'></div>")).append(i("<div class='onp-sl-overlay-line'></div>")).append(i("<div class='onp-sl-overlay-text'>"+o+"</div>"))).append(i("<div class='onp-sl-overlay-header'></div>")),o.prependTo(e),n||t.hover(function(){var t=i(this).find(".onp-sl-button-overlay");t.stop().animate({opacity:0},200,function(){t.hide()})},function(){i(this).find(".onp-sl-button-overlay").show().stop().animate({opacity:1},200)}),i.pandalocker.isTouch()&&o.click(n?function(){return t.hasClass("onp-sl-flip-hover")?t.removeClass("onp-sl-flip-hover"):(i(".onp-sl-flip-hover").removeClass("onp-sl-flip-hover"),t.addClass("onp-sl-flip-hover")),!1}:function(){var t=i(this);return t.stop().animate({opacity:0},200,function(){t.hide()}),!1}),this.group._buttonsZIndex||(this.group._buttonsZIndex=54),this.group._buttonsZIndex=this.group._buttonsZIndex-4,e=this.group._buttonsZIndex;t.css("z-index",e),o&&(o.css("z-index",e),o.find(".onp-sl-overlay-front").css("z-index",1),o.find(".onp-sl-overlay-back").css("z-index",-1),o.find(".onp-sl-overlay-header").css("z-index",1))},t._getStorageIdentity=function(){return this._ssIdentity},t.verification={container:"iframe",timeout:5e3},i.pandalocker.entity.socialButton=t}(jQuery),!function(e){"use strict";e.onepress||(e.onepress={}),e.pandalocker.sdk||(e.pandalocker.sdk={}),e.pandalocker.sdk.facebook=e.pandalocker.sdk.facebook||{name:"facebook",url1:"//connect.facebook.net/{lang}/all.js",url2:"//connect.facebook.net/{lang}/sdk.js",scriptId:"facebook-jssdk",timeout:1e4,isLoaded:function(){return"object"==typeof window.FB},prepare:function(){0===e("#fb-root").length&&e("<div id='fb-root'></div>").appendTo(e("body"));var t=this.options&&this.options.lang||"en_US";this.url1=this.url1.replace("{lang}",t),this.url2=this.url2.replace("{lang}",t),this.url="v1.0"===this.options.version?this.url1:this.url2},_setup:!1,setup:function(){this._setup||(window.FB.init({appId:this.options&&this.options.appId||null,status:!0,cookie:!0,xfbml:!0,version:this.options.version}),window.FB.Event.subscribe("edge.create",function(t){e(document).trigger("onp-sl-facebook-like",[t])}),window.FB.init=function(){},e(document).trigger(this.name+"-init"),this._setup=!0)},createEvents:function(){var t,e=this;this.isLoaded()?e.setup():(window.fbAsyncInit&&(t=window.fbAsyncInit),window.fbAsyncInit=function(){e.setup(),t&&t(),window.fbAsyncInit=function(){}})}}}(jQuery),!function(n){"use strict";n.onepress||(n.onepress={}),n.pandalocker.sdk||(n.pandalocker.sdk={}),n.pandalocker.sdk.twitter=n.pandalocker.sdk.twitter||{name:"twitter",url:"//platform.twitter.com/widgets.js",scriptId:"twitter-wjs",timeout:1e4,isLoaded:function(){return void 0!==window.__twttrlr},createEvents:function(){function t(){n(document).trigger(e.name+"-init")}var e=this,o=this.isLoaded();return o?void t():(window.twttr||(window.twttr={}),window.twttr.ready||(window.twttr=n.extend(window.twttr,{_e:[],ready:function(t){this._e.push(t)}})),void twttr.ready(function(){t()}))},prepare:function(){function t(t){return(t||t.data)&&"string"==typeof t.data?-1!==t.data.indexOf(':["tweet"')?n(document).trigger("onp-sl-twitter-tweet"):-1!==t.data.indexOf(':["follow"')?n(document).trigger("onp-sl-twitter-follow"):void 0:void 0}window.addEventListener?window.addEventListener("message",t,!1):window.attachEvent("onmessage",t)}}}(jQuery),!function(o){"use strict";o.onepress||(o.onepress={}),o.pandalocker.sdk||(o.pandalocker.sdk={}),o.pandalocker.sdk.google=o.pandalocker.sdk.google||{name:"google",url:"//apis.google.com/js/plusone.js",scriptId:"google-jssdk",timeout:1e4,isLoaded:function(){return"object"==typeof window.gapi},prepare:function(){var e=this,t=(e.notAuthed=!1,this.options&&this.options.lang||"en");window.___gcfg=window.___gcfg||{lang:t},window.OPanda_GooglePlusOne_Callback=function(t){"on"===t.state&&o(document).trigger("onp-sl-google-plus",[t.href])},window.OPanda_GoogleShare_StartInteraction=function(t){o.pandalocker.data.__googleShareUrl=t.id},o.pandalocker.tools.isTabletOrMobile()||(t=function(t){(t||t.data)&&"string"==typeof t.data&&-1===t.data.indexOf("oauth2relay")&&(-1!==t.data.indexOf("::drefresh")?e.notAuthed=!0:-1===t.data.indexOf("::_g_wasClosed")&&-1===t.data.indexOf("::_g_closeMe")||(e.notAuthed?e.notAuthed=!1:o(document).trigger("onp-sl-google-share")))},window.addEventListener?window.addEventListener("message",t,!1):window.attachEvent("onmessage",t))}}}(jQuery),!function(e){"use strict";e.onepress||(e.onepress={}),e.pandalocker.sdk||(e.pandalocker.sdk={}),e.pandalocker.sdk.googleClient=e.pandalocker.sdk.googleClient||{name:"google-client",url:"//apis.google.com/js/client:platform.js?onload=OPanda_GoogleClient_Callback",scriptId:"google-client-jssdk",timeout:1e4,isLoaded:function(){return window.gapi&&"object"==typeof window.gapi.auth},prepare:function(){var t=this;window.OPanda_GoogleClient_Callback=function(){e(document).trigger(t.name+"-script-loaded")}}}}(jQuery),!function(i){"use strict";i.onepress||(i.onepress={}),i.pandalocker.sdk||(i.pandalocker.sdk={}),i.pandalocker.sdk.linkedin=i.pandalocker.sdk.linkedin||{name:"linkedin",url:"//platform.linkedin.com/in.js",scriptId:"linkedin-jssdk",timeout:1e4,isLoaded:function(){return"object"==typeof window.IN},prepare:function(){window.OPanda_LinkedinShare_Callback=function(t){i(document).trigger("onp-sl-linkedin-share",[t])};var n=window.open;window.open=function(t,e,o){t=n(t,e,o);return t&&(!(o=e||t.name)||"easyXDM_IN"!==o.substring(0,10)?t:void(i.pandalocker.sdk.linkedin._activePopup=t))}}}}(jQuery),!function(n){"use strict";var t=n.pandalocker.tools.extend(n.pandalocker.entity.socialButton);t.name="facebook-like",t._defaults={url:null,layout:"button_count",width:null,verbToDisplay:"like",colorScheme:"light",font:"tahoma",ref:null,theConfirmIssue:!1},t.prepareOptions=function(){this.url=this._extractUrl(),"vertical"===this.groupOptions.layout?this.options.layout="box_count":this.groupOptions.counters||(this.options.layout="button")},t.setupHooks=function(){var t=this;this.addHook("markup-created",function(){t._startTrackIFrameSizes()}),this.addHook("before-show-content",function(){t._stopTrackIFrameSizes()})},t.setupEvents=function(){var o=this;n(document).bind("onp-sl-facebook-like",function(t,e){o.url===n.pandalocker.tools.URL.normalize(e)&&o.unlock("button",o.name,o.url)})},t.renderButton=function(t){this.button=n("<div></div>").appendTo(t),this.button.attr("data-show-faces",!1),this.button.attr("data-send",!1),this.button.attr("data-href",this.url),this.options.font&&this.button.attr("data-font",this.options.font),this.options.colorScheme&&this.button.attr("data-colorscheme",this.options.colorScheme),this.options.ref&&this.button.attr("data-ref",this.options.ref),this.options.width&&this.button.attr("data-width",this.options.width),this.options.layout&&this.button.attr("data-layout",this.options.layout),this.options.verbToDisplay&&this.button.attr("data-action",this.options.verbToDisplay),this.button.addClass("fb-like"),window.FB.XFBML.parse(t[0])},t.customVerifyButton=function(){var t;return this.customVerification=!1,0!==this.control.find(this.verification.container).length&&(t=this.control.find(this.verification.container).attr("style"),!(!(t=/height:\s*(\d+)px/i.exec(t))||!t[1]||0===parseInt(t[1])))},t._startTrackIFrameSizes=function(){var e;this.options.theConfirmIssue||((e=this)._trackIFrameTimer=null,this.locker.locker.hover(function(){var t=e.control.find("iframe");t.length&&(e._trackIFrameTimer=setInterval(function(){200<(parseInt(t[0].style.height)||t.height())&&(e._stopTrackIFrameSizes(),n(document).trigger("onp-sl-facebook-like",[e.url]))},500))},function(){e._stopTrackIFrameSizes()}))},t._stopTrackIFrameSizes=function(){this._trackIFrameTimer&&clearInterval(this._trackIFrameTimer)},n.pandalocker.controls["social-buttons"]["facebook-like"]=t}(jQuery),!function(n){"use strict";var t=n.pandalocker.tools.extend(n.pandalocker.entity.socialButton);t.name="facebook-share",t._defaults={url:null,layout:"button_count",count:"standard",lang:"en_US",width:null,shareDialog:!1,name:null,caption:null,description:null,image:null,unlock:null},t.prepareOptions=function(){return this.url=this._extractUrl(),this.options.appId&&"117100935120196"!=this.options.appId?void("vertical"===this.groupOptions.layout?this.options.layout="box_count":this.groupOptions.counters||(this.options.layout="button")):(this.showError(n.pandalocker.lang.errors.emptyFBAppIdError),!1)},t.setupEvents=function(){var o=this;n(document).bind("onp-sl-facebook-share",function(t,e){o.url===n.pandalocker.tools.URL.normalize(e)&&o.unlock("button",o.name,o.url)})},t.renderButton=function(t){var e=this;this.button=n("<div></div>").appendTo(t),this.button.attr("data-href",this.url),this.options.width&&this.button.attr("data-width",this.options.width),this.options.layout&&(this.button.attr("data-layout",this.options.layout),this.button.attr("data-type",this.options.layout)),n("<div class='onp-sl-facebook-share-overlay'></div>").appendTo(t).click(e.options.shareDialog?function(){return FB.ui({method:"share",href:e.url,display:"popup"},function(t){return console&&console.log&&console.log("AX12:"),console&&console.log&&console.log(t),n.pandalocker.tools.isTabletOrMobile()&&void 0===t||null===t?void n(document).trigger("onp-sl-facebook-share",[e.url]):void(null==t||"object"==typeof t&&t.error_code&&0<t.error_code||n(document).trigger("onp-sl-facebook-share",[e.url]))}),!1}:function(){return FB.ui({method:"feed",name:e.options.name,link:e.url,picture:e.options.image,caption:e.options.caption,description:e.options.description},function(t){return console&&console.log&&console.log("AX12:"),console&&console.log&&console.log(t),n.pandalocker.tools.isTabletOrMobile()&&void 0===t||null===t?void n(document).trigger("onp-sl-facebook-share",[e.url]):void(null==t||"object"==typeof t&&t.error_code&&0<t.error_code||n(document).trigger("onp-sl-facebook-share",[e.url]))}),!1}),this.button.addClass("fb-share-button"),window.FB.XFBML.parse(t[0])},t.customVerifyButton=function(){var t;return this.customVerification=!1,0!==this.control.find(this.verification.container).length&&(t=this.control.find(this.verification.container).attr("style"),!(!(t=/height:\s*(\d+)px/i.exec(t))||!t[1]||0===parseInt(t[1])))},n.pandalocker.controls["social-buttons"]["facebook-share"]=t}(jQuery),!function(a){"use strict";a.pandalocker.data||(a.pandalocker.data={}),a.pandalocker.data.__tweetedUrl=null,a.pandalocker.data.__tweetWindow=null;var t=a.pandalocker.tools.extend(a.pandalocker.entity.socialButton);t.name="twitter-tweet",t.verification={container:"iframe",timeout:5e3},t._defaults={doubleCheck:!1,url:null,text:null,via:null,related:null,count:"horizontal",lang:"en",counturl:null,size:"medium"},t.prepareOptions=function(){var t;!this.options.url&&!this.networkOptions.url&&0<a("link[rel='canonical']").length&&(this.options.url=a("link[rel='canonical']").attr("href")),this.url=this._extractUrl(),"vertical"===this.groupOptions.layout?this.showError(a.pandalocker.lang.errors.unsupportedTwitterTweetLayout):this.groupOptions.counters||(this.options.count="none"),this.groupOptions.lang&&(t=this.groupOptions.lang.split("_"),this.options.lang=t[0]),this.options.text||(t=a("title"),this.options.text=0<t.length?a(t[0]).text():"")},t.setupEvents=function(){var t=this;a(document).bind("onp-sl-twitter-tweet",function(){t.url===a.pandalocker.data.__tweetedUrl&&(a.pandalocker.data.__tweetWindow&&a.pandalocker.data.__tweetWindow.close&&a.pandalocker.data.__tweetWindow.close(),a.pandalocker.data.__tweetWindow=null,t.unlock("button",t.name,t.url))})},t.renderButton=function(t){var e=this;this.button=a('<a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>').appendTo(t),this.button.attr("data-url",this.url),this.button.attr("data-show-count",this.options.showCount),this.options.via&&this.button.attr("data-via",this.options.via),this.options.text&&this.button.attr("data-text",this.options.text),this.options.lang&&this.button.attr("data-lang",this.options.lang),this.options.hashtags&&this.button.attr("data-hashtags",this.options.hashtags),this.options.size&&this.button.attr("data-size",this.options.size),this.options.dnt&&this.button.attr("data-dnt",this.options.dnt);a("<div class='onp-sl-feature-overlay'></div>").appendTo(t).click(function(){e.tweet(e.options.doubleCheck).done(function(){a(document).trigger("onp-sl-twitter-tweet",[e.url])})}),t.data("url-to-verify",e.url);var o=5,n=function(){0<t.find("iframe").length||(window.twttr.widgets&&window.twttr.widgets.load?window.twttr.widgets.load(t[0]):o<=0||(o--,setTimeout(function(){n()},1e3)))};n()},t.tweet=function(t){var e,o,n=this,i=a.Deferred();return t?(this.connect(function(){n.tweet(!1).done(function(){var t=n.checkTweet(n.url);t.done(function(){i.resolve()}),t.fail(function(){n.showNotice(a.pandalocker.lang.errors.tweetNotFound)})})}),i):(t=[],n.options.text&&(e=(e=(e=(e=encodeURI(n.options.text)).replace(/#/g,"%23")).replace(/\|/g,"-")).replace(/\&/g,"%26"),t.push(["text",e])),n.options.hashtags&&t.push(["hashtags",n.options.hashtags]),n.options.via&&t.push(["via",n.options.via]),n.options.related&&t.push(["via",n.options.related]),t.push(["url",n.url]),a.pandalocker.data.__tweetedUrl=n.url,e=a.pandalocker.tools.URL().scheme("http").host("twitter.com").path("/intent/tweet").query(t).toString(),t=screen.width?screen.width/2-275+a.pandalocker.tools.findLeftWindowBoundry():0,o=screen.height?screen.height/2-210+a.pandalocker.tools.findTopWindowBoundry():0,a.pandalocker.data.__twitterAuth&&!1===a.pandalocker.data.__twitterAuth.closed?(a.pandalocker.data.__twitterAuth.updateState(e,550,420,t,o),a.pandalocker.data.__tweetWindow=a.pandalocker.data.__twitterAuth,a.pandalocker.data.__twitterAuth=null):a.pandalocker.data.__tweetWindow=window.open(e,"TwitterTweetWindow","width=550,height=420,left="+t+",top="+o),setTimeout(function(){var t=setInterval(function(){a.pandalocker.data.__tweetWindow&&!1===a.pandalocker.data.__tweetWindow.closed||(clearInterval(t),i.resolve())},200)},200),i.promise())},t.connect=function(e){var o=this;if(a.pandalocker.data.twitterOAuthReady)a.pandalocker.data.__twitterAuthIdentityData?e(a.pandalocker.data.__twitterAuthIdentityData,o._getServiceData()):this._identify(function(t){e(t,o._getServiceData())});else{var t,n={opandaHandler:"twitter",opandaRequestType:"init",opandaKeepOpen:!0,opandaReadOnly:!0},i=a.pandalocker.tools.cookie("opanda_twid"),r=(i&&"null"!==i&&(n.opandaVisitorId=i),o.options.proxy);for(t in n)n.hasOwnProperty(t)&&(r=a.pandalocker.tools.updateQueryStringParameter(r,t,n[t]));o._trackWindow("opandaHandler=twitter",function(){setTimeout(function(){a.pandalocker.data.twitterOAuthReady||(o.runHook("raw-social-app-declined"),o.showNotice(a.pandalocker.lang.errors_not_signed_in))},500)});var i=screen.width?screen.width/2-250+a.pandalocker.tools.findLeftWindowBoundry():0,s=screen.height?screen.height/2-305+a.pandalocker.tools.findTopWindowBoundry():0;a.pandalocker.data.__twitterAuth=window.open(r,"Twitter Tweet","width=500,height=610,left="+i+",top="+s+",resizable=yes,scrollbars=yes,status=yes"),window.OPanda_TwitterOAuthCompleted=function(t){a.pandalocker.data.twitterOAuthReady=!0,o._saveVisitorId(t),o.connect(e)},window.OPanda_TwitterOAuthDenied=function(t){o.runHook("raw-social-app-declined"),o.showNotice(a.pandalocker.lang.errors_not_signed_in),o._saveVisitorId(t)}}},t._saveVisitorId=function(t){this._visitorId=t,a.pandalocker.data.__twitterVisitorId=t,a.pandalocker.tools.cookie("opanda_twid",t,{expires:1e3,path:"/"})},t._getServiceData=function(){return{visitorId:a.pandalocker.data.__twitterVisitorId}},t._identify=function(o){var n=a.ajax({type:"POST",dataType:"json",url:this.options.proxy,data:{opandaHandler:"twitter",opandaRequestType:"user_info",opandaVisitorId:a.pandalocker.data.__twitterVisitorId,opandaReadOnly:!0},success:function(t){console.log(t),(!t||t.error||t.errors)&&console&&console.log&&console.log("Unable to get the user data: "+n.responseText);var e={};e.displayName=t.screen_name,e.twitterUrl="https://twitter.com/"+t.screen_name,t.profile_image_url&&(e.image=t.profile_image_url.replace("_normal","")),a.pandalocker.data.__twitterAuthIdentityData=e,o(e)},error:function(){console&&console.log&&console.log("Unable to get the user data: "+n.responseText),o({})}})},t.checkTweet=function(){var n=this,i=a.Deferred(),r=a.ajax({type:"POST",dataType:"json",url:n.options.proxy,data:{opandaHandler:"twitter",opandaRequestType:"get_tweets",opandaVisitorId:a.pandalocker.data.__twitterVisitorId,opandaReadOnly:!0},success:function(t){(!t||t.error||t.errors)&&console&&console.log&&console.log("Unable to get the user data: "+r.responseText);for(var e=0;e<t.length;e++)if(t[e].entities)for(var o=0;o<t[e].entities.urls.length;o++)if(t[e].entities.urls[o]&&t[e].entities.urls[o].expanded_url===n.url)return void i.resolve();i.reject()},error:function(){console&&console.log&&console.log("Unable to get the user data: "+r.responseText),callback({})}});return i.promise()},a.pandalocker.controls["social-buttons"]["twitter-tweet"]=t}(jQuery),!function(a){"use strict";a.pandalocker.data||(a.pandalocker.data={}),a.pandalocker.data.__followedUrl=null,a.pandalocker.data.__followWindow=null;var t=a.pandalocker.tools.extend(a.pandalocker.entity.socialButton);t.name="twitter-follow",t.verification={container:"iframe",timeout:6e5},t._defaults={doubleCheck:!1,url:null,hideScreenName:!1,showCount:!0,lang:"en",size:"medium"},t.prepareOptions=function(){if(!this.options.url||-1===this.options.url.indexOf("twitter"))return this.showError(a.pandalocker.lang.errors.emptyTwitterFollowUrlError),!1;var t;this.url=this._extractUrl(),"vertical"===this.groupOptions.layout?this.showError(a.pandalocker.lang.errors.unsupportedTwitterFollowLayout):this.groupOptions.counters||(this.options.showCount=!1),this.groupOptions.lang&&(t=this.groupOptions.lang.split("_"),this.options.lang=t[0])},t.setupEvents=function(){var t=this;a(document).bind("onp-sl-twitter-follow",function(){t.url===a.pandalocker.data.__followedUrl&&(a.pandalocker.data.__followWindow&&a.pandalocker.data.__followWindow.close&&a.pandalocker.data.__followWindow.close(),a.pandalocker.data.__followWindow=null,t.unlock("button",t.name,t.url))})},t.renderButton=function(t){var e=this;this.button=a('<a href="https://twitter.com/share" class="twitter-follow-button">Follow</a>').appendTo(t),this.button.attr("href",this.url),this.button.attr("data-show-count",this.options.showCount),this.options.showCount&&this.button.attr("data-show-count",this.options.showCount),this.options.lang&&this.button.attr("data-lang",this.options.lang),this.options.alignment&&this.button.attr("data-alignment",this.options.alignment),this.options.size&&this.button.attr("data-size",this.options.size),this.options.dnt&&this.button.attr("data-dnt",this.options.dnt),this.options.hideScreenName&&this.button.attr("data-show-screen-name",!1);a("<div class='onp-sl-feature-overlay'></div>").appendTo(t).click(function(){return e.follow(e.options.doubleCheck).done(function(){a(document).trigger("onp-sl-twitter-follow",[e.url])}),!1}),t.data("url-to-verify",e.url);var o=5,n=function(){0<t.find("iframe").length||(window.twttr.widgets&&window.twttr.widgets.load?window.twttr.widgets.load(t[0]):o<=0||(o--,setTimeout(function(){n()},1e3)))};n()},t.follow=function(t){var e,o,n=this,i=a.Deferred();return t?(this.connect(function(){n.follow(!1).done(function(){var t=n.checkFollower(n.url);t.done(function(){i.resolve()}),t.fail(function(){n.showNotice(a.pandalocker.lang.errors.followingNotFound)})})}),i):(t=[],a.pandalocker.data.__followedUrl=n.url,e=n.url.split("/"),n.screenName=e[e.length-1],t.push(["screen_name",n.screenName]),e=a.pandalocker.tools.URL().scheme("http").host("twitter.com").path("/intent/follow").query(t).toString(),t=screen.width?screen.width/2-275+a.pandalocker.tools.findLeftWindowBoundry():0,o=screen.height?screen.height/2-265+a.pandalocker.tools.findTopWindowBoundry():0,a.pandalocker.data.__twitterAuth&&!1===a.pandalocker.data.__twitterAuth.closed?(a.pandalocker.data.__twitterAuth.updateState(e,550,530,t,o),a.pandalocker.data.__followWindow=a.pandalocker.data.__twitterAuth,a.pandalocker.data.__twitterAuth=null):a.pandalocker.data.__followWindow=window.open(e,"TwitterFollowWindow","width=550,height=530,left="+t+",top="+o),setTimeout(function(){var t=setInterval(function(){a.pandalocker.data.__followWindow&&!1===a.pandalocker.data.__followWindow.closed||(clearInterval(t),i.resolve())},200)},200),i.promise())},t.connect=function(e){var o=this;if(a.pandalocker.data.twitterOAuthReady)a.pandalocker.data.__twitterAuthIdentityData?e(a.pandalocker.data.__twitterAuthIdentityData,o._getServiceData()):this._identify(function(t){e(t,o._getServiceData())});else{var t,n={opandaHandler:"twitter",opandaRequestType:"init",opandaKeepOpen:!0,opandaReadOnly:!0},i=a.pandalocker.tools.cookie("opanda_twid"),r=(i&&"null"!==i&&(n.opandaVisitorId=i),o.options.proxy);for(t in n)n.hasOwnProperty(t)&&(r=a.pandalocker.tools.updateQueryStringParameter(r,t,n[t]));o._trackWindow("opandaHandler=twitter",function(){setTimeout(function(){a.pandalocker.data.twitterOAuthReady||(o.runHook("raw-social-app-declined"),o.showNotice(a.pandalocker.lang.errors_not_signed_in))},500)});var i=screen.width?screen.width/2-250+a.pandalocker.tools.findLeftWindowBoundry():0,s=screen.height?screen.height/2-305+a.pandalocker.tools.findTopWindowBoundry():0;a.pandalocker.data.__twitterAuth=window.open(r,"Twitter Follow","width=500,height=610,left="+i+",top="+s+",resizable=yes,scrollbars=yes,status=yes"),window.OPanda_TwitterOAuthCompleted=function(t){a.pandalocker.data.twitterOAuthReady=!0,o._saveVisitorId(t),o.connect(e)},window.OPanda_TwitterOAuthDenied=function(t){o.runHook("raw-social-app-declined"),o.showNotice(a.pandalocker.lang.errors_not_signed_in),o._saveVisitorId(t)}}},t._saveVisitorId=function(t){this._visitorId=t,a.pandalocker.data.__twitterVisitorId=t,a.pandalocker.tools.cookie("opanda_twid",t,{expires:1e3,path:"/"})},t._getServiceData=function(){return{visitorId:a.pandalocker.data.__twitterVisitorId}},t._identify=function(o){var n=a.ajax({type:"POST",dataType:"json",url:this.options.proxy,data:{opandaHandler:"twitter",opandaRequestType:"user_info",opandaVisitorId:a.pandalocker.data.__twitterVisitorId,opandaReadOnly:!0},success:function(t){console.log(t),(!t||t.error||t.errors)&&console&&console.log&&console.log("Unable to get the user data: "+n.responseText);var e={};e.displayName=t.screen_name,e.twitterUrl="https://twitter.com/"+t.screen_name,t.profile_image_url&&(e.image=t.profile_image_url.replace("_normal","")),a.pandalocker.data.__twitterAuthIdentityData=e,o(e)},error:function(){console&&console.log&&console.log("Unable to get the user data: "+n.responseText),o({})}})},t.checkFollower=function(){var o=a.Deferred(),n=a.ajax({type:"POST",dataType:"json",url:this.options.proxy,data:{opandaHandler:"twitter",opandaRequestType:"get_followers",opandaSceenName:this.screenName,opandaVisitorId:a.pandalocker.data.__twitterVisitorId,opandaReadOnly:!0},success:function(t){if((!t||t.error||t.errors)&&console&&console.log&&console.log("Unable to get the user data: "+n.responseText),t[0])for(var e=0;e<t[0].connections.length;e++)if("following"===t[0].connections[e])return void o.resolve();o.reject()},error:function(){console&&console.log&&console.log("Unable to get the user data: "+n.responseText),callback({})}});return o.promise()},a.pandalocker.controls["social-buttons"]["twitter-follow"]=t}(jQuery),!function(n){"use strict";var t=n.pandalocker.tools.extend(n.pandalocker.entity.socialButton);t.name="google-plus",t._defaults={url:null,lang:"en-US",size:"medium",annotation:null,width:null,align:"left",expandTo:"",recommendations:!0},t.prepareOptions=function(){this.url=this._extractUrl(),"vertical"===this.groupOptions.layout?this.options.size="tall":this.groupOptions.counters||(this.options.annotation="none")},t.setupEvents=function(){var o=this;n(document).bind("onp-sl-google-plus",function(t,e){o.url===n.pandalocker.tools.URL.normalize(e)&&o.unlock("button",o.name,o.url)})},t.renderButton=function(t){this.button=n("<div></div>").appendTo(t),this.button.attr("data-href",this.url),this.options.size&&this.button.attr("data-size",this.options.size),this.options.annotation&&this.button.attr("data-annotation",this.options.annotation),this.options.align&&this.button.attr("data-align",this.options.align),this.options.expandTo&&this.button.attr("data-expandTo",this.options.expandTo),this.options.recommendations&&this.button.attr("data-recommendations",this.options.recommendations),this.button.attr("data-callback","OPanda_GooglePlusOne_Callback"),this.button.addClass("g-plusone"),setTimeout(function(){window.gapi.plusone.go(t[0])},100)},n.pandalocker.controls["social-buttons"]["google-plus"]=t}(jQuery),!function(r){"use strict";r.pandalocker.data||(r.pandalocker.data={}),r.pandalocker.data.__googleShareUrl=null;var t=r.pandalocker.tools.extend(r.pandalocker.entity.socialButton);t.name="google-share",t._defaults={url:null,lang:"en-US",size:null,annotation:"bubble",width:null,align:"left",expandTo:"",recommendations:!0},t.prepareOptions=function(){this.url=this._extractUrl(),"vertical"===this.groupOptions.layout?this.options.annotation="vertical-bubble":this.groupOptions.counters||(this.options.annotation="none")},t.setupEvents=function(){var o=this;r(document).bind("onp-sl-google-share",function(t,e){e=e||r.pandalocker.data.__googleShareUrl;o.url===r.pandalocker.tools.URL.normalize(e)&&o.unlock("button",o.name,o.url)})},t.renderButton=function(t){var i=this;this.button=r("<div></div>").appendTo(t),this.button.attr("data-href",this.url),this.options.size&&this.button.attr("data-size",this.options.size),this.options.annotation&&this.button.attr("data-annotation",this.options.annotation),this.options.align&&this.button.attr("data-align",this.options.align),this.options.expandTo&&this.button.attr("data-expandTo",this.options.expandTo),this.options.recommendations&&this.button.attr("data-recommendations",this.options.recommendations),this.button.attr("data-onstartinteraction","OPanda_GoogleShare_StartInteraction"),this.button.attr("data-onendinteraction","OPanda_GoogleShare_EndInteraction"),this.button.addClass("g-plus").attr("data-action","share"),setTimeout(function(){window.gapi.plus.go(t[0])},100),r.pandalocker.tools.isTabletOrMobile()&&r("<div class='onp-sl-feature-overlay'></div>").appendTo(t).click(function(){var t=[],t=(t.push(["url",i.url]),r.pandalocker.tools.URL().scheme("https").host("plus.google.com").path("/share").query(t)),e=screen.width?screen.width/2-350+r.pandalocker.tools.findLeftWindowBoundry():0,o=screen.height?screen.height/2-225+r.pandalocker.tools.findTopWindowBoundry():0,n=window.open(t,"GoogleShareWindow","width=550,height=420,left="+e+",top="+o);return setTimeout(function(){var t=setInterval(function(){n&&!1===n.closed||(clearInterval(t),r(document).trigger("onp-sl-google-share",[i.url]))},200)},200),!1})},r.pandalocker.controls["social-buttons"]["google-share"]=t}(jQuery),!function(o){"use strict";var t=o.pandalocker.tools.extend(o.pandalocker.entity.socialButton);t.name="youtube-subscribe",t.sdk="google-client",t._defaults={clientId:null,channelId:null,layout:"default",count:"default"},t._extractUrl=function(){return this.options.channelId},t.prepareOptions=function(){this.url=this._extractUrl(),this.options.channelId||this.showError(o.pandalocker.lang.errors.emptyYoutubeChannelId),this.options.clientId||this.showError(o.pandalocker.lang.errors.emptyGoogleClientId),"vertical"===this.groupOptions.layout?this.showError(o.pandalocker.lang.errors.unsupportedYoutubeSubscribeLayout):this.groupOptions.counters||(this.options.count="hidden")},t.setupEvents=function(){var t=this;o(document).bind("onp-sl-youtube-subscribe",function(){t.unlock("button",t.name,t.url)})},t.renderButton=function(t){var e=this;this.button=o("<div></div>").appendTo(t),this.button.attr("data-channelid",this.options.channelId),this.button.attr("data-layout",this.options.layout),this.button.attr("data-count",this.options.count),this.button.addClass("g-ytsubscribe"),setTimeout(function(){window.gapi.ytsubscribe.go(t[0])},100),o("<div class='onp-sl-youtube-subscribe-overlay'></div>").appendTo(t).click(function(){return e.authorize(!1,function(t){return"immediate_failed"!==t.error?t&&t.status.signed_in?void e.subscribe():void e.showNotice(o.pandalocker.lang.errors_not_signed_in):void 0}),!1})},t.authorize=function(t,e){var o={};o.client_id=this.options.clientId,o.immediate=t,o.scope="https://www.googleapis.com/auth/youtube",gapi.auth.authorize(o,e)},t.subscribe=function(){var e=this;gapi.client.load("youtube","v3",function(){gapi.client.youtube.subscriptions.insert({part:"snippet",resource:{snippet:{resourceId:{kind:"youtube#channel",channelId:e.options.channelId}}}}).execute(function(t){return t.error&&"subscriptionDuplicate"!=t.error.data[0].reason?e.showNotice(t.error.data[0].message):void o(document).trigger("onp-sl-youtube-subscribe")})})},o.pandalocker.controls["social-buttons"]["youtube-subscribe"]=t}(jQuery),!function(n){"use strict";var t=n.pandalocker.tools.extend(n.pandalocker.entity.socialButton);t.name="linkedin-share",t.verification.container=".IN-widget",t.verification.timeout=5e3,t._defaults={url:null,counter:"right"},t.prepareOptions=function(){this.url=this._extractUrl(),"vertical"===this.groupOptions.layout?this.options.counter="top":this.groupOptions.counters||(this.options.counter="none")},t.setupEvents=function(){var o=this;n(document).bind("onp-sl-linkedin-share",function(t,e){o.url===n.pandalocker.tools.URL.normalize(e)&&o.unlock("button",o.name,o.url)})},t.renderButton=function(t){var o=this;this.button=n('<script type="IN/Share" data-onsuccess="OPanda_LinkedinShare_Callback" data-success="OPanda_LinkedinShare_Callback" data-onSuccess="OPanda_LinkedinShare_Callback"><\/script>'),this.options.counter&&this.button.attr("data-counter",this.options.counter),this.button.attr("data-url",this.url),this.button.appendTo(t),IN.init(),IN.parse&&IN.parse(this.button[0]),t.click(function(){setTimeout(function(){var t,e;n.pandalocker.sdk.linkedin._activePopup&&(t=n.pandalocker.sdk.linkedin._activePopup,n.pandalocker.sdk.linkedin._activePopup=!1,e=setInterval(function(){t&&!1===t.closed||(clearInterval(e),n(document).trigger("onp-sl-linkedin-share",[o.url]))},200))},200)})},n.pandalocker.controls["social-buttons"]["linkedin-share"]=t}(jQuery),!function(t){"use strict";var e=t.pandalocker.tools.extend(t.pandalocker.entity.group);e._defaults={order:["facebook","twitter","google"],facebook:{version:"v2.5"},twitter:{},google:{},linkedin:{}},e.name="connect-buttons",e.setup=function(){this.isFirst||(this.options.text.message=this.options.text.message||t.pandalocker.lang.connectButtons.defaultMessage,this.options.text.message=t.pandalocker.tools.normilizeHtmlOption(this.options.text.message))},t.pandalocker.groups["connect-buttons"]=e}(jQuery),!function(n){"use strict";var t=n.pandalocker.tools.extend(n.pandalocker.entity.actionControl);t.tag='<a href="#"></a>',t.render=function(t){var e,o=this;this.sdk=this.sdk||this.name,this.control.addClass("onp-sl-button"),this.icon=n("<div class='onp-sl-icon'></div>"),this.icon.appendTo(t),this.container=n("<div class='onp-sl-connect-button onp-sl-social-button-"+this.name+"'></div>"),this.container.appendTo(t),this._hasError()||(this._lockLoadingState(),e=function(){var t=o.requireSdk(o.sdk,o.options);t.fail(function(t){o._unlockLoadingState(),o.showError(t)}),t.done(function(){o.setupEvents&&o.setupEvents(),o.renderButton(o.container)})},this.locker.options.lazy?this.addHook("raw-impress",function(){o._rendered||(o._rendered=!0,e())}):e()),this.handleClick(),this._checkWaitingSubscription()},t.processButtonTitle=function(t,e){t=t.replace("{long}",n.pandalocker.lang.signin_long);return(t=t.replace("{short}",n.pandalocker.lang.signin_short)).replace("{name}",e)},t.handleClick=function(){var o=this;this.control.click(function(){return o.runHook("raw-interaction"),o._hasError()||o._isLoading()?void 0:(o.connect(function(t,e){o.runActions(t,e,!0)}),!1)})},t._lockLoadingState=function(){this._setLoadingState("connect-button")},t._unlockLoadingState=function(){this._removeLoadingState("connect-button")},t.connect=function(){throw new Error("The control should implement the method 'connect'")},t._getStorageIdentity=function(){return"opanda_"+n.pandalocker.tools.hash(this.name)+"_hash_"+this.name},n.pandalocker.entity.connectButton=t}(jQuery),!function(s){"use strict";var t=s.pandalocker.tools.extend(s.pandalocker.entity.connectButton);t.name="facebook",t._defaults={},t.prepareOptions=function(){this.permissions=["public_profile","email"],this.restPermissions=this.permissions,this.declinedPermissions=[]},t.renderButton=function(t){var e=this,o=this.processButtonTitle(this.lang.viaSignInLong,s.pandalocker.lang.signin_facebook_name),n=this.processButtonTitle(this.lang.viaSignInShort,s.pandalocker.lang.signin_facebook_name),o=(this.longTitle=s("<span class='onp-sl-long'>"+o+"</span>").appendTo(t),this.shortTtle=s("<span class='onp-sl-short'>"+n+"</span>").appendTo(t),this.groupOptions.loadingTimeout||2e4),i=!1;setTimeout(function(){i||e.showError(s.pandalocker.lang.errors.invlidFacebookAppId)},o),this._getLoginStatus(function(){i=!0,e._unlockLoadingState()})},t.connect=function(e){var o=this;if("connected"===o._status&&!this.restPermissions.length)return this._identify(function(t){e(t,o._serviceData)});var t={scope:o.restPermissions.join(",")},n=(0<o.declinedPermissions.length&&(t.auth_type="rerequest"),!1);o._trackWindow("facebook.com/dialog/oauth",function(){setTimeout(function(){n||(o.runHook("raw-social-app-declined"),o.showNotice(s.pandalocker.lang.errors_not_signed_in))},500)}),FB.login(function(t){n=!0,o._checkPermissions(t,function(){return"connected"!==o._status?(o.runHook("raw-social-app-declined"),void o.showNotice(s.pandalocker.lang.errors_not_signed_in)):o.restPermissions.length?(o.runHook("raw-social-app-declined"),void o.showNotice(s.pandalocker.lang.res_errors_not_granted.replace("{permissions}",o.restPermissions.join(", ")))):o._identify(function(t){e(t,o._serviceData)})})},t)},t._getLoginStatus=function(e){var o=this;FB.getLoginStatus(function(t){o._checkPermissions(t,e)})},t._checkPermissions=function(t,i){var r=this;return this._status=t.status,(this._serviceData=t)&&"connected"===this._status?void FB.api("/me/permissions",function(t){if(t&&t.data){if(!t.data[0]||t.data[0].permission||t.data[0].status){var e=s.grep(t.data,function(t){return"granted"!==t.status}),o=s.grep(t.data,function(t){return"granted"==t.status});e=s.map(e,function(t){return t.permission}),o=s.map(o,function(t){return t.permission})}else{var n,o=[],e=[];for(n in t.data[0])(t.data[0][n]?o:e).push(n)}r.restPermissions=s.pandalocker.tools.diffArrays(r.permissions,o),r.declinedPermissions=s.pandalocker.tools.unionArrays(r.restPermissions,e),i&&i()}}):void(i&&i())},t._identify=function(o){FB.api("/me?fields=email,first_name,last_name,gender,link",function(t){var e={};return t?(e.source="facebook",e.email=t.email,e.displayName=t.first_name+" "+t.last_name,e.name=t.first_name,e.family=t.last_name,e.gender=t.gender,e.facebookUrl=t.link,e.image="https://graph.facebook.com/"+t.id+"/picture?type=large",e.social=!0,e.facebookId=t.id,void o(e)):o(e)})},s.pandalocker.controls["connect-buttons"].facebook=t}(jQuery),!function(r){"use strict";var t=r.pandalocker.tools.extend(r.pandalocker.entity.connectButton);t.name="google",t.sdk="google-client",t._defaults={},t.prepareOptions=function(){return this.options.clientId?(this.permissions=["https://www.googleapis.com/auth/userinfo.profile"],this.permissions.push("https://www.googleapis.com/auth/userinfo.email"),-1===r.inArray("youtube-subscribe",this.options.actions)||(this.permissions.push("https://www.googleapis.com/auth/youtube"),this.options.youtubeSubscribe&&this.options.youtubeSubscribe.channelId)?(this.restPermissions=this.permissions,void(this.declinedPermissions=[])):this.showError(r.pandalocker.lang.connectButtons.errorYouTubeChannelMissed)):void this.showError(r.pandalocker.lang.connectButtons.google.clientIdMissed)},t.renderButton=function(t){var e=this.processButtonTitle(this.lang.viaSignInLong,r.pandalocker.lang.signin_google_name),o=this.processButtonTitle(this.lang.viaSignInShort,r.pandalocker.lang.signin_google_name);this.longTitle=r("<span class='onp-sl-long'>"+e+"</span>").appendTo(t),this.shortTtle=r("<span class='onp-sl-short'>"+o+"</span>").appendTo(t),this._unlockLoadingState()},t.connect=function(n){var t,i=this,e=!1,o={callback:function(o){return"immediate_failed"!==o.error?(e=!0,o&&o.status.signed_in?i._identify(function(t,e){return"error"===t?void i.showNotice(r.pandalocker.lang.connectButtons.google.unexpectedError.replace("{0}",e)):void n(e,o)}):(i.runHook("raw-social-app-declined"),void i.showNotice(r.pandalocker.lang.errors_not_signed_in))):void 0}};o.clientid=this.options.clientId,o.cookiepolicy="single_host_origin",o.scope=this.permissions.join(" "),this.options.share&&(t=r.pandalocker.tools.capitaliseFirstLetter(this.options.share.type||"add"),o.requestvisibleactions="http://schema.org/"+t+"Action"),i._trackWindow("google.com/o/oauth2",function(){setTimeout(function(){e||(i.runHook("raw-social-app-declined"),i.showNotice(r.pandalocker.lang.errors_not_signed_in))},500)}),console.log(o),gapi.auth.signIn(o)},t._identify=function(o){gapi.client.load("plus","v1").then(function(){gapi.client.plus.people.get({userId:"me"}).then(function(t){var e={};return t&&t.result?(e.source="google",e.email=t.result.emails&&t.result.emails[0]&&t.result.emails[0].value,e.displayName=t.result.displayName,e.name=t.result.name&&t.result.name.givenName,e.family=t.result.name&&t.result.name.familyName,e.gender=t.result.gender,e.googleUrl=t.result.url,e.social=!0,t.result.image&&t.result.image.url&&(e.image=t.result.image.url.replace(/\?sz=\d+/gi,"")),void o("success",e)):o("error",e)},function(t){o("error",t.result.error.message)})})},t.runYoutubeSubscribeAction=function(t,e,o,n,i){var r=this;gapi.client.load("youtube","v3",function(){gapi.client.youtube.subscriptions.insert({part:"snippet",resource:{snippet:{resourceId:{kind:"youtube#channel",channelId:r.options.youtubeSubscribe.channelId}}}}).execute(function(t){return t&&t.error?t.error.data&&t.error.data[0]&&"subscriptionDuplicate"===t.error.data[0].reason?void i():(console&&console.log&&console.log(t),r.showError(t.error.message),void i("error")):(r.runHook("got-youtube-subscriber",[t]),void i())})})},r.pandalocker.controls["connect-buttons"].google=t}(jQuery),!function(a){"use strict";var t=a.pandalocker.tools.extend(a.pandalocker.entity.connectButton);t.name="twitter",t._defaults={},t.prepareOptions=function(){return this.options.proxy?-1===a.inArray("follow",this.options.actions)||this.options.follow&&this.options.follow.user?-1===a.inArray("tweet",this.options.actions)||this.options.tweet&&this.options.tweet.message?void 0:this.showError(a.pandalocker.lang.connectButtons.errorTwitterMessageMissed):this.showError(a.pandalocker.lang.connectButtons.errorTwitterUserMissed):void this.showError(a.pandalocker.lang.connectButtons.twitter.proxyEmpty)},t.renderButton=function(t){var e=this.processButtonTitle(this.lang.viaSignInLong,a.pandalocker.lang.signin_twitter_name),o=this.processButtonTitle(this.lang.viaSignInShort,a.pandalocker.lang.signin_twitter_name);this.longTitle=a("<span class='onp-sl-long'>"+e+"</span>").appendTo(t),this.shortTtle=a("<span class='onp-sl-short'>"+o+"</span>").appendTo(t),this._unlockLoadingState()},t.connect=function(e){var o=this;if(a.pandalocker.data.twitterOAuthReady)this._identify(function(t){e(t,o._getServiceData())});else{var t,n=a.extend(!0,{},o.options),i=(delete n.proxy,{opandaHandler:"twitter",opandaRequestType:"init",opandaTwitterOptions:JSON.stringify(n)}),n=a.pandalocker.tools.cookie("opanda_twid"),r=(n&&"null"!==n&&(i.opandaVisitorId=n),o.options.proxy);for(t in i)i.hasOwnProperty(t)&&(r=a.pandalocker.tools.updateQueryStringParameter(r,t,i[t]));o._trackWindow("opandaHandler=twitter",function(){setTimeout(function(){a.pandalocker.data.twitterOAuthReady||(o.runHook("raw-social-app-declined"),o.showNotice(a.pandalocker.lang.errors_not_signed_in))},500)}),window.open(r,"Twitter Sign-In","width=500,height=450,resizable=yes,scrollbars=yes,status=yes"),window.OPanda_TwitterOAuthCompleted=function(t){a.pandalocker.data.twitterOAuthReady=!0,o._saveVisitorId(t),o.connect(e)},window.OPanda_TwitterOAuthDenied=function(t){o.runHook("raw-social-app-declined"),o.showNotice(a.pandalocker.lang.errors_not_signed_in),o._saveVisitorId(t)}}},t._saveVisitorId=function(t){this._visitorId=t,a.pandalocker.tools.cookie("opanda_twid",t,{expires:1e3,path:"/"})},t._getServiceData=function(){return{visitorId:this._visitorId}},t._identify=function(n){var i=a.ajax({type:"POST",dataType:"json",url:this.options.proxy,data:{opandaHandler:"twitter",opandaRequestType:"user_info",opandaVisitorId:this._visitorId},success:function(t){(!t||t.error||t.errors)&&console&&console.log&&console.log("Unable to get the user data: "+i.responseText);var e,o={};if(!t)return n(o);t.name&&2===(e=t.name.split(" ",2)).length?(o.name=e[0],o.family=e[1]):o.name=t.name,o.source="twitter",o.email=t.email,o.displayName=t.screen_name,o.twitterUrl="https://twitter.com/"+t.screen_name,t.profile_image_url&&(o.image=t.profile_image_url.replace("_normal","")),n(o)},error:function(){console&&console.log&&console.log("Unable to get the user data: "+i.responseText),n({})}})},t.runFollowAction=function(t,e,o,n,i){var r=this,o={opandaHandler:"twitter",opandaRequestType:"follow",opandaVisitorId:r._visitorId,opandaFollowTo:o.user,opandaNotifications:o.notifications},o=a.pandalocker.filters.run(r.locker.id+".ajax-data",[o]),s=(o=a.pandalocker.filters.run(r.locker.id+".twitter-follow.ajax-data",[o]),a.ajax({type:"POST",dataType:"json",url:r.options.proxy,data:o}));s.success(function(t){return(!t||t.error||t.errors)&&console&&console.log&&console.log("Unable to follow: "+s.responseText),t&&t.error?(r.showScreen("default"),void r.showNotice("Unable to perform the follow action due to the error: "+t.error)):void i()}),s.error(function(){r.showScreen("default"),r.showNotice("Unable to perform the follow action due to the unexpected error. See the logs for more details."),console&&console.log&&console.log("Unable to follow: "+s.responseText)})},t.runTweetAction=function(t,e,o,n,i){var r=this,o={opandaHandler:"twitter",opandaRequestType:"tweet",opandaVisitorId:r._visitorId,opandaTweetMessage:o.message},o=a.pandalocker.filters.run(r.locker.id+".ajax-data",[o]),s=(o=a.pandalocker.filters.run(r.locker.id+".twitter-tweet.ajax-data",[o]),a.ajax({type:"POST",dataType:"json",url:r.options.proxy,data:o}));s.success(function(t){return(!t||t.error||t.errors)&&console&&console.log&&console.log("Unable to tweet: "+s.responseText),t&&t.error?(r.showScreen("default"),void r.showNotice("Unable to perform the tweet action due to the error: "+t.error)):void i()}),s.error(function(){r.showScreen("default"),r.showNotice("Unable to perform the tweet action due to the unexpected error. See the logs for more details."),console&&console.log&&console.log("Unable to follow: "+s.responseText)})},a.pandalocker.controls["connect-buttons"].twitter=t}(jQuery),!function(s){"use strict";var t=s.pandalocker.tools.extend(s.pandalocker.entity.connectButton);t.name="linkedin",t._defaults={},t.prepareOptions=function(){return this.options.clientId?void 0:void this.showError(s.pandalocker.lang.connectButtons.linkedin.clientIdMissed)},t.renderButton=function(t){var e=this.processButtonTitle(this.lang.viaSignInLong,s.pandalocker.lang.signin_linkedin_name),o=this.processButtonTitle(this.lang.viaSignInShort,s.pandalocker.lang.signin_linkedin_name);this.longTitle=s("<span class='onp-sl-long'>"+e+"</span>").appendTo(t),this.shortTtle=s("<span class='onp-sl-short'>"+o+"</span>").appendTo(t),this._unlockLoadingState()},t.connect=function(e){var o=this;if(s.pandalocker.data.linkedInOAuthReady)this._identify(function(t){e(t,o._getServiceData())});else{var t,n=s.extend(!0,{},o.options),i=(delete n.proxy,{opandaHandler:"linkedin",opandaRequestType:"init",opandaLinkedinOptions:JSON.stringify(n)}),r=o.options.proxy;for(t in i)i.hasOwnProperty(t)&&(r=s.pandalocker.tools.updateQueryStringParameter(r,t,i[t]));o._trackWindow("opandaHandler=linkedin",function(){setTimeout(function(){s.pandalocker.data.linkedInOAuthReady||(o.runHook("raw-social-app-declined"),o.showNotice(s.pandalocker.lang.errors_not_signed_in))},500)}),window.open(r,"LinkedIn Sign-In","width=500,height=450,resizable=yes,scrollbars=yes,status=yes"),window.OPanda_LinkedInOAuthCompleted=function(t){s.pandalocker.data.linkedInOAuthReady=!0,o._accessToken=t,o.connect(e)},window.OPanda_LinkedInOAuthDenied=function(){o.runHook("raw-social-app-declined"),o.showNotice(s.pandalocker.lang.errors_not_signed_in)}}},t._getServiceData=function(){return{accessToken:this._accessToken}},t._identify=function(o){var n=s.ajax({type:"POST",dataType:"json",url:this.options.proxy,data:{opandaHandler:"linkedin",opandaRequestType:"user_info",opandaAccessToken:this._accessToken},success:function(t){(!t||t.error||t.errors)&&console&&console.log&&console.log("Unable to get the user data: "+n.responseText);var e={};return t?(e.source="linkedin",e.email=t.emailAddress,e.displayName=t.firstName+" "+t.lastName,e.name=t.firstName,e.family=t.lastName,e.linkedinUrl=t.publicProfileUrl,e.social=!0,t.pictureUrls&&t.pictureUrls.values&&(e.image=t.pictureUrls.values[0]),void o(e)):o(e)},error:function(){console&&console.log&&console.log("Unable to get the user data: "+n.responseText),o({})}})},s.pandalocker.controls["connect-buttons"].linkedin=t}(jQuery),!function(e){"use strict";e.onepress||(e.onepress={}),e.pandalocker.sdk||(e.pandalocker.sdk={}),e.pandalocker.sdk.googleClient=e.pandalocker.sdk.googleClient||{name:"google-client",url:"//apis.google.com/js/client:platform.js?onload=OPanda_GoogleClient_Callback",scriptId:"google-client-jssdk",timeout:1e4,isLoaded:function(){return window.gapi&&"object"==typeof window.gapi.auth},prepare:function(){var t=this;window.OPanda_GoogleClient_Callback=function(){e(document).trigger(t.name+"-script-loaded")}}}}(jQuery),!function(n){"use strict";n.onepress||(n.onepress={}),n.pandalocker.sdk||(n.pandalocker.sdk={}),n.pandalocker.sdk.linkedinConnect=n.pandalocker.sdk.linkedinConnect||{name:"linkedin-connect",url:"//platform.linkedin.com/in.js?async=true",scriptId:"linkedin-jssdk",timeout:1e4,isLoaded:function(){return"object"==typeof window.IN},prepare:function(){window.OPanda_LinkedinShare_Callback=function(t){n(document).trigger("onp-sl-linkedin-share",[t])}},createEvents:function(){function t(){window.IN.init({api_key:e.options.apiKey}),window.IN.init=function(){},n(document).trigger(e.name+"-init")}var e=this,o=this.isLoaded();return o?void t():void n(document).bind(e.name+"-script-loaded",function(){t()})}}}(jQuery),!function(t){"use strict";var e=t.pandalocker.tools.extend(t.pandalocker.entity.group);e._defaults={order:["form"],text:t.pandalocker.lang.subscription.defaultText,separator:{type:"hiding-link",title:t.pandalocker.lang.misc_or_enter_email}},e.name="subscription",t.pandalocker.groups.subscription=e}(jQuery),!function($){"use strict";var form=$.pandalocker.tools.extend($.pandalocker.entity.actionControl);form.name="form",form._defaults={type:"email-form",fields:null,unlocksPerPage:!1},form.setup=function(){this.options.actions&&0!==this.options.actions.length||(this.options.actions=["subscribe"]),$.pandalocker.entity.actionControl.setup.apply(this),this.options.requireName=this.options.requireName||this.options.subscribe&&this.options.subscribe.requireName,this.advancedValidation=!0,"email-form"===this.options.type?(this.advancedValidation=!1,this.options.fields=[{id:"email",type:"email",placeholder:$.pandalocker.lang.errors_empty_email,req:!0}]):"name-email-form"===this.options.type&&(this.advancedValidation=!0,this.options.fields=[{id:"fullname",type:"text",placeholder:$.pandalocker.lang.misc_enter_your_name,req:!0},{id:"email",type:"email",placeholder:$.pandalocker.lang.misc_enter_your_email,req:!0}])},form._memorize=function(e,o){e="opanda_"+e;if(localStorage&&localStorage.setItem)try{localStorage.setItem(e,o)}catch(t){$.pandalocker.tools.cookie(e,o,{expires:365,path:"/"})}else $.pandalocker.tools.cookie(e,o,{expires:365,path:"/"})},form._getFromMemory=function(t){t="opanda_"+t;return localStorage&&localStorage.getItem&&localStorage.getItem(t)||$.pandalocker.tools.cookie(t)},form.submit=function(){var t,e=this;if(!this.validate())return!1;this.options.preview?(console.log(this.getValues()),this.showNotice(window.bizpanda&&window.bizpanda.res&&window.bizpanda.res["subscription-preview-mode"]||"The locker is in the preview mode. The subscription does not work here.")):(t=this.$button.text(),this.$button.addClass("load").prop("disabled",!0),this.$button.html("&nbsp;"),e.runActions(this.getValues(),{}).fail(function(){e.$button.removeClass("load").removeProp("disabled"),e.$button.text(t)}))},form.getValues=function(){var o=this,t=this.options.fields,n={};return $.each(t,function(t,e){e&&e.type&&e.id&&(n[e.id]=o.getFieldValue(e))}),n},form.getFieldValue=function(t){var e=t.type,o=$.pandalocker.hooks.run("get-field-value-"+e,[t]);if(void 0!==o)return o;"email"===t.id?this._memorize("email",$.trim(t._$input.val())):"fullname"===t.id&&this._memorize("fullname",$.trim(t._$input.val()));o="get"+$.pandalocker.tools.capitaliseFirstLetter($.pandalocker.tools.camelCase(e))+"Value";return this[o]?this[o](t):t._$input?$.trim(t._$input.val()):null},form.getDateValue=function(t){return $.pandalocker.tools.isTabletOrMobile()?$.trim(t._$input.val()):t._$input.data("value")},form.getCheckboxValue=function(t){return t._$input.is(":checked")?t.onValue:t.offValue},form.validate=function(){var o=this,t=this.options.fields,n=!0;return $.each(t,function(t,e){o.advancedValidation&&e._$input&&e._$input.bind("change keyup blur",function(){o.validateField(e)}),o.validateField(e)||(n=!1)}),n},form.validateField=function(field){var type=field.type,result=(this.hideValidationErrors(field),$.pandalocker.hooks.run("validate-field-"+type,[field]));if(void 0!==result)return result;var typeName=$.pandalocker.tools.capitaliseFirstLetter($.pandalocker.tools.camelCase(type)),method="validate"+typeName,res=!this[method]||this[method](field);if(res&&field.validation){var value=$.trim(field._$input.val()),expression=null,validationError=field.validationError;if(field.validation instanceof RegExp)expression=field.validation;else{var regexp=new RegExp("^/.*?/[ims]*$");if(regexp.test(field.validation))eval("expression = "+field.validation);else if("month/year"===field.validation){var expression=/^\d\d\/\d\d\d\d$/,parts=value.split("/");if(parts.length<2)return this.showValidationError(field,$.pandalocker.lang.errors_invalid_date),!1;var month=parseInt(parts[0]),year=parseInt(parts[1]);if(month<1||12<month)return this.showValidationError(field,$.pandalocker.lang.errors_invalid_month),!1}else if("month"===field.validation){var month=parseInt(value);if(month<1||12<month)return this.showValidationError(field,$.pandalocker.lang.errors_invalid_month),!1}else expression="year"===field.validation?/^\d\d\d\d$/:new RegExp(field.validation)}if(expression&&!expression.test(value))return this.showValidationError(field,validationError||$.pandalocker.lang.errors_invalid_value),!1}return this.runHook("size-changed"),res},form.validateText=function(t,e){var o=$.trim(t._$input.val());return!!(!t.req||o&&o.length)||("fullname"===t.id?e=$.pandalocker.lang.errors_empty_name:"email"===t.id&&(e=$.pandalocker.lang.errors_empty_email),this.showValidationError(t,e||$.pandalocker.lang.errors_empty_field),!1)},form.validateHidden=function(){return!0},form.validateDate=function(t){t=this.validateText(t);return t&&!0},form.validateEmail=function(t){var e,o=this.validateText(t);return o&&(e=$.trim(t._$input.val()),!!$.pandalocker.tools.isValidEmailAddress(e)||(this.showValidationError(t,$.pandalocker.lang.errors_inorrect_email),!1))},form.validatePhone=function(t){return this.validateText(t)},form.validateUrl=function(t){var e,o=this.validateText(t);return o&&(e=$.trim(t._$input.val()),!!$.pandalocker.tools.isValidUrl(e)||(this.showValidationError(t,"Please enter a valid URL."),!1))},form.validateBirthday=function(t){var e,o,n,i=this.validateText(t);return i&&!(((e=$.trim(t._$input.val()).split("/")).length<2||(o=parseInt(e[1]),n=parseInt(e[0]),"mm/dd"===t.maskPlaceholder&&(o=parseInt(e[0]),n=parseInt(e[1])),n<1)||31<n||o<1||12<o)&&(this.showValidationError(t,"Please enter a valid date."),1))},form.validateInteger=function(t){var e,o=this.validateText(t);return o&&!(((e=$.trim(t._$input.val()))||t.req)&&(e=parseInt(e),isNaN(e)?(this.showValidationError(t,"Please enter an integer number."),1):t.min&&e<t.min?(this.showValidationError(t,"Please enter a number greater than or equal to {0}.".replace("{0}",t.min)),1):t.max&&e>t.max&&(this.showValidationError(t,"Please enter a number less than or equal to {0}.".replace("{0}",t.max)),1)))},form.validateCheckbox=function(t){var e=t._$input.is(":checked");return!(t.req&&!e&&(this.showValidationError(t,"Please mark this checkbox to continue."),1))},form.showValidationError=function(t,e){var o,t=t._$wrap,n=this;this.advancedValidation?(o=$('<div class="onp-sl-validation-error"></div>').html(e),t.append(o),t.addClass("onp-sl-error-state")):this._validationErrorShown||(this._validationErrorShown=!0,this.showNotice(e,function(){n._validationErrorShown=!1}))},form.hideValidationErrors=function(t){this.advancedValidation&&((t=t._$wrap).find(".onp-sl-validation-error").remove(),t.removeClass("onp-sl-error-state"))},form.render=function(t){var e,o,n=this,i=(this.options.fields&&1<this.options.fields.length&&this.addClassToLocker("onp-sl-custom-form"),this.options.fields);for(e in i)i.hasOwnProperty(e)&&(o=i[e])&&o.type&&(o._$input=this.renderField(t,o));t.find("input").keypress(function(t){13===t.which&&n.control.find(".onp-sl-submit").click()}),this.$button=this.renderSubmitButton(t),this._checkWaitingSubscription()},form.renderSubmitButton=function(t){var e=this,o=this.options.buttonText||this.groupOptions.text.buttonText||this.lang.btnSubscribe,n=$.pandalocker.tools.normilizeHtmlOption(this.options.noSpamText||this.groupOptions.text.noSpamText||$.pandalocker.lang.noSpam),i=$("<div></div>").addClass("onp-sl-field").addClass("onp-sl-field-submit"),o=$("<button class='onp-sl-button onp-sl-form-button onp-sl-submit'>"+o+"</button>");return this.group.isFirst&&o.addClass("onp-sl-button-primary"),o.appendTo(i),n.addClass("onp-sl-note").addClass("onp-sl-nospa"),n.appendTo(i),o.click(function(){return e.submit(),!1}),i.appendTo(t),o},form.renderField=function(t,e){var o=e.type,n=e.id,i=$("<div class='onp-sl-field'></div>"),n=(e._$wrap=i,n&&i.addClass("onp-sl-field-"+n),o&&i.addClass("onp-sl-field-"+o),e.title&&"hidden"!==o&&((n=$("<div class='onp-sl-field-title'></div>")).html(e.title),n.appendTo(i)),i.appendTo(t),$("<div class='onp-sl-field-control'></div>")),i=(n.appendTo(i),$.pandalocker.hooks.run("render-"+o,[t,e]));return i||(this[t="render"+$.pandalocker.tools.capitaliseFirstLetter($.pandalocker.tools.camelCase(o))]?(i=this[t](n,e),"email"===e.id?i.val(this._getFromMemory("email")):"fullname"===e.id&&i.val(this._getFromMemory("fullname")),i):this.showError('Cannot render a field of the type "'+o+'".'))},form.renderEmail=function(t,e){return this.renderText(t,e,"text","email")},form.renderPhone=function(t,e){return this.renderText(t,e,"text","phone")},form.renderUrl=function(t,e){return this.renderText(t,e,"text","website")},form.renderInteger=function(t,e){return this.renderText(t,e,"text","interger")},form.renderHidden=function(t,e){var o=$("<input type='hidden' id='onp-sl-input-"+e.id+"' />");return e.value&&o.attr("value",e.value),o.appendTo(t),o},form.renderBirthday=function(t,e){return e.mask||(e.mask="99/99"),e.maskPlaceholder||(e.maskPlaceholder="dd/mm"),this.renderText(t,e,"text","birthday")},form.renderDate=function(t,e){var o;return $.pandalocker.tools.isTabletOrMobile()?this.renderText(t,e,"date"):(o=this.renderText(t,e,"text"),window.Pikaday?(o.attr("readOnly","true"),new Pikaday({field:o[0],container:t[0],format:"DD MMM YYYY",onSelect:function(){o.data("value",this.getMoment().format("YYYY-MM-DD"))}}),o):this.showError('Unable to create a field of the type "date" due to the lib Pikaday not found.'))},form.renderText=function(t,e,o,n){e.icon&&"none"!==(i=e.iconPosition||"right")&&((r=$("<i class='onp-sl-icon'></i>").addClass(e.icon)).addClass("right"===i?"onp-sl-icon-append":"onp-sl-icon-prepend"),r.appendTo(t)),o=o||"text",e.password&&(o="password");var i=$("<input type='"+o+"' class='onp-sl-input' id='onp-sl-input-"+e.id+"' />");if(e.placeholder&&i.attr("placeholder",e.placeholder),e.value&&i.attr("value",e.value),n&&i.attr("name",n),e.mask){if(!$.mask)return this.showError("Unable to create a masked input, the lib not found");var r={};e.maskPlaceholder&&(r.placeholder=e.maskPlaceholder),i.mask(e.mask,r)}return i.appendTo(t),i},form.renderCheckbox=function(t,e){var o=$("<label></lable>"),n=$("<input type='checkbox' />");n.appendTo(o),e.markedByDefault&&n.attr("checked","checked");$("<span class='onp-sl-checkbox' id='onp-sl-input-"+e.id+"' />").appendTo(o);var i=$("<span></span>");return e.description&&i.html(e.description),i.appendTo(o),o.appendTo(t),n},form.renderDropdown=function(t,e){var o,n=$("<select class='onp-sl-input onp-sl-dropdown'></select>"),i=$("<i></i>");for(o in e.choices)$("<option></option>").attr("value",e.choices[o]).text(e.choices[o]).appendTo(n);return n.appendTo(t),i.appendTo(t),n},form.renderSeparator=function(){return null},form.renderHtml=function(t,e){return t.html(e.html),null},form.renderLabel=function(t,e){return t.html(e.text),null},form._getStorageIdentity=function(){var t,e="";return e=this.options.unlocksPerPage?(t=$.pandalocker.tools.URL.normalize(this.options.url||window.location.href),"opanda_"+$.pandalocker.tools.hash(t)+"_hash_"+this.name):"opanda_"+$.pandalocker.tools.hash(this.options.listId+this.options.service)+"_hash_"+this.name,$.pandalocker.filters.run("subscription-form-get-storage-identity",[e])},$.pandalocker.controls.subscription.form=form}(jQuery),!function(p){"use strict";p.fn.pandalocker||(p.pandalocker.widget("pandalocker",{options:{},_isLocked:!1,_defaults:{text:{header:null,message:null},theme:{name:"starter"},lang:"en_US",groups:{order:["social-buttons"],union:"or"},terms:!1,privacyPolicy:!1,termsPopup:!1,connectButtons:{},socialButtons:{},overlap:{mode:"full",position:"middle",intensity:5,altMode:"transparence"},cssClass:null,demo:!1,highlight:!0,googleAnalytics:!1,locker:{off:!1,stepByStep:!1,close:!1,timer:0,mobile:!0,expires:!1,useCookies:!1,scope:!1,loadingTimeout:1e3,tumbler:!0,tumblerInterval:500,naMode:"show-error",visibility:[],inAppBrowsers:"visible_with_warning",inAppBrowsersWarning:"You are viewing this page in the {browser}. The locker may work incorrectly in this browser. Please open this page in a standard browser."},subscribeActionOptions:{},content:null,proxy:null},getState:function(){return this._isLocked?"locked":"unlocked"},_create:function(){var e=this;this.id=this.options.id||this._generteId(),this._prepareOptions(),this._setupVariables(),this._initExtras(),this._initHooks(),this._initGroups(),this._initScreens(),this._setupVisitorId(),this.runHook("init"),this._canLock()&&this.requestState(function(t){"locked"===t?e._lock():e._unlock("provider")})},_generteId:function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<5;o++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},_prepareOptions:function(){var t=p.extend(!0,{},this._defaults),t=this.applyFilters("filter-default-options",t),e=(this.options.theme&&!p.isPlainObject(this.options.theme)&&(this.options.theme={name:this.options.theme}),"object"!=typeof this.options.theme&&(this.options.theme={name:this.options.theme}),this.options.theme.name||this._defaults.theme),e=(p.pandalocker.themes[e]&&(t=p.extend(!0,{},t,p.pandalocker.themes[e])),p.extend(!0,t,this.options));p.isArray(e.groups)&&(e.groups=p.extend(!0,{},t.groups,{order:e.groups})),e.locker.timer=parseInt(e.locker.timer),0===e.locker.timer&&(e.locker.timer=null),this.options=this.applyFilters("filter-options",e),"blurring"!==this.options.overlap.mode||p.pandalocker.tools.supportBlurring()||(this.options.overlap.mode=this.options.overlap.altMode)},_setupVariables:function(){if(this.style="onp-sl-"+this.options.theme.name,this.overlap="full"!==this.options.overlap.mode&&this.options.overlap.mode,this.groupUnion=this.options.groups.union,0<this.options.groups.order.length)switch(this.options.groups.order[0]){case"connect-buttons":this.lockerType="signin-locker",this.langScope="signinLocker";break;case"subscription":this.lockerType="email-locker",this.langScope="emailLocker";break;default:this.lockerType="social-locker",this.langScope="socialLocker"}this.lang=p.pandalocker.lang.scopes[this.langScope]},_initExtras:function(){for(var t in p.pandalocker.extras)p.pandalocker.extras.hasOwnProperty(t)&&p.pandalocker.extras[t].init&&p.pandalocker.extras[t].init.apply(this)},_initHooks:function(){var t=this,e=!1,o=!1,n=!1,i=!1;this.addHook("raw-interaction",function(){!i||e||(e=!0,t.runHook("interaction"))}),this.addHook("raw-error",function(){!i||o||(o=!0,t.runHook("error"))}),this.addHook("raw-impress",function(){"default"===t._currentScreenName&&(i=!0,t.runHook("impress"))}),this.addHook("raw-social-app-declined",function(){!i||n||(n=!0,t.runHook("social-app-declined"))})},_initGroups:function(){this._groups=[];for(var t=0;t<this.options.groups.order.length;t++){var e=this.options.groups.order[t],o=p.pandalocker.tools.camelCase(e),o=this.options[o]||{};if(0==t&&(o.text=this.options.text),!p.pandalocker.groups[e])return void this._showError("core",'The control group "'+e+'" not found.');e=p.pandalocker.tools.extend(p.pandalocker.groups[e]);o.index=parseInt(t)+1,e.init(this,o),this._groups[t]=e}},_setupVisitorId:function(){this.vid=p.pandalocker.tools.getValue("opanda_vid"),this.vid||(this.vid=p.pandalocker.tools.guid(),p.pandalocker.tools.saveValue("opanda_vid",this.vid,365))},_canLock:function(){if(p.pandalocker.browser.msie&&7===parseInt(p.pandalocker.browser.version,10))return this._unlock("ie7"),!1;if(this.options.locker.visibility&&!(new p.pandalocker.services.visibility).canLock(this.options.locker.visibility))return this._unlock("visibility"),!1;if(!this.options.locker.mobile&&p.pandalocker.tools.isMobile())return this._unlock("mobile"),!1;if("hidden"===!this.options.locker.inAppBrowsers&&p.pandalocker.tools.isInAppBrowser())return this._unlock("inapp"),!1;for(var t=0,e=0;e<this._groups.length;e++)if(!this._groups[e].canLock()){if("or"===this.groupUnion)return this._unlock("group"),!1;t++}return t!==this._groups.length||(this._unlock("group"),!1)},requestState:function(e){var i=this,o=[],n=((o=this.applyFilters("functions-requesting-state",o)).push(function(e){for(var o=i._groups.length,n="locked",t=0;t<i._groups.length;t++)i._groups[t].requestState(function(t){"unlocked"===t&&(n=t),--o<=0&&e(n)})}),function(){var t=o.shift();return t?void t(function(t){return"unlocked"===t?e(t):void n()}):e("locked")});n()},setState:function(t,e,o){this.runHook("state-changed",[t,e,o])},_getStateStorage:function(){return this._stateStorage||(this._stateStorage=this.applyFilters("get-default-state-storage",new p.pandalocker.storages.defaultStateStorage(this)),this._stateStorage)},_showError:function(t,e){this._error=!0,this._errorText=e,this.locker&&this.locker.hide(),this.element.html("<strong>[Error]: "+e+"</strong>"),this.element.show().addClass("onp-sl-locker-error"),this.runHook("size-changed")},addHook:function(t,e,o,n){p.pandalocker.hooks.add(this.id+"."+t,e,o),n&&p.pandalocker.hooks.add(t,e,o)},runHook:function(t,e,o){(e=e||[]).unshift(this),p.pandalocker.hooks.run(this.id+"."+t,e),o&&p.pandalocker.hooks.run(t,e),this.element.trigger("opanda-"+t,e);o=e.slice(),e={};e.lockId=this.id,e.visitorId=this.vid,e.locker=this.locker,e.content=this.element,o.unshift(e),p.pandalocker.hooks.run("opanda-"+t,o)},addFilter:function(t,e,o){p.pandalocker.filters.add(this.id+"."+t,e,o)},applyFilters:function(t,e,o,n){(o=p.isArray(o=o||[])?o:[o]).unshift(this),o.unshift(e);e=p.pandalocker.filters.run(this.id+"."+t,o);return o[0]=e,e=n?p.pandalocker.filters.run(t,o):e},screens:{},_screenFactory:{},_showScreen:function(t,e){if(!this._screenFactory[t]&&!this.screens[t])throw new p.pandalocker.error('The screen "'+t+'" not found in the group "'+this.name+'"');var o,n=this;this._currentScreenName=t,this.innerWrap.find(".onp-sl-screen").hide(),this.screens[t]?(this.screens[t].show(),n.runHook("size-changed")):(o=p("<div class='onp-sl-screen onp-sl-non-default-screen onp-sl-screen-"+t+"'></div>").appendTo(this.innerWrap).hide(),this.screens[t]=this._screenFactory[t](o,e),o.fadeIn(300,function(){n.runHook("size-changed")}))},_registerScreen:function(t,e){this._screenFactory[t]=e},_initScreens:function(){var l=this;this._currentScreenName="default",this._registerScreen("enter-email",function(n,o){var t,e,i=p('<div class="onp-sl-text"></div>'),r=(n.append(i),o.header&&(t=p('<div class="onp-sl-header onp-sl-strong">'+o.header+"</div>"),i.append(t)),o.message&&(t=p('<div class="onp-sl-message">'+o.message+"</div>"),i.append(t)),p('<div class="onp-sl-control"></div>')),s=(n.append(r),{});for(e in s.email={name:"email",type:"text",placeholder:p.pandalocker.lang.misc_enter_your_email},s.submit={name:"submit",type:"submit",title:o.buttonTitle},s){var a,l=s[e].type,c=s[e].title,d=s[e].value||o.fields&&o.fields[e]&&o.fields[e].value,u=p("<div></div>").addClass("onp-sl-field").addClass("onp-sl-field-"+e).addClass("onp-sl-field-type-"+l);"text"!==l&&"email"!==l||(a=p("<input type='"+l+"' name='"+e+"' class='onp-sl-input' id='onp-sl-input-"+e+"' />"),s[e].placeholder&&a.attr("placeholder",s[e].placeholder),d&&a.attr("value",d),a.appendTo(u)),"submit"===l&&((a=p("<button class='onp-sl-button onp-sl-form-button onp-sl-submit'>"+c+"</button>")).addClass("onp-sl-button-primary"),a.appendTo(u)),u.appendTo(r)}o.note&&p("<div class='onp-sl-note onp-sl-nospam'></div>").html(o.note).appendTo(u),n.find(".onp-sl-submit").click(function(){function t(t,e){n.find(".onp-sl-group-notice").remove();var o=p("<div class='onp-sl-group-notice'>"+t+"</div>").hide();n.append(o),o.fadeIn(500),e=e||7e3,setTimeout(function(){o.length&&o.fadeOut(800,function(){o.remove()})},e)}p(this);var e=p.trim(n.find("#onp-sl-input-email").val());return e&&e.length?p.pandalocker.tools.isValidEmailAddress(e)?void(o.callback&&o.callback(e)):void t(p.pandalocker.lang.errors_inorrect_email):void t(p.pandalocker.lang.errors_empty_email)})}),this._registerScreen("data-processing",function(t){t.append(p("<div class='onp-sl-process-spin'></div>")),t.append(p("<div class='onp-sl-processing-sreen-text'>"+p.pandalocker.lang.misc_data_processing+"</div>"))}),this._registerScreen("email-confirmation",function(t,e){var o=p('<div class="onp-sl-screen-message"></div>'),n=p("<div class='onp-sl-header'></div>").html(p.pandalocker.lang.confirm_screen_title),i=p("<div class='onp-sl-message'></div>"),r=p("<p></p>").html(p.pandalocker.lang.confirm_screen_instructiont.replace("{email}","<strong>"+e.email+'</strong> <a href="#" class="onp-sl-cancel">'+p.pandalocker.lang.confirm_screen_cancel+"</a>")),s=p('<p class="onp-sl-highlight"></p>').html(p.pandalocker.lang.confirm_screen_note1),a=p('<p class="onp-sl-note"></p>').html(p.pandalocker.lang.confirm_screen_note2),r=(r.find(".onp-sl-cancel").click(function(){return e.service.cancel(),l._showScreen("default"),!1}),i.append(r),i.append(s),o.append(n),o.append(i),t.append(o),e.email.split("@")),s=null;0<=r[1].indexOf("gmail")?s={url:"https://mail.google.com/mail/?tab=wm",icon:"0px 0px",title:"Gmail"}:0<=r[1].indexOf("yahoo")?s={url:"https://mail.yahoo.com/",icon:"0px -70px",title:"Yahoo!"}:0<=r[1].indexOf("hotmail")?s={url:"https://hotmail.com/",icon:" 0px -140px",title:"Hotmail"}:0<=r[1].indexOf("outlook")&&(s={url:"http://www.outlook.com/",icon:" 0px -140px",title:"Outlook"}),s&&((n=p('<a class="onp-sl-button onp-sl-form-button onp-sl-form-button-sm onp-sl-open"></a>').html(p.pandalocker.lang.confirm_screen_open.replace("{service}",s.title))).attr("href",s.url),n.attr("target","_blank"),s.icon&&(n.addClass("onp-sl-has-icon"),p('<i class="onp-sl-icon"></i>').prependTo(n).css("background-position",s.icon)),(i=p("<div class='onp-sl-open-button-wrap'></div>")).append(n),t.append(i)),t.append(a)})},_lock:function(){var t=this;this._isLocked||(this._markupIsCreated||this._createMarkup(),this.overlap?(this.overlapLockerBox.fadeIn(1e3,function(){t._updateLockerPosition()}),t._updateLockerPosition()):(this.element.hide(),this.locker.fadeIn(1e3)),this._isLocked=!0,this.runHook("lock"),this.runHook("locked"),setTimeout(function(){t._startTrackVisability()},1500))},_unlock:function(t,e,o){if(!this.options.locker.off){if(!this._isLocked)return this.runHook("cancel",[t]),this._showContent("button"===t),!1;this._showContent(!0),this._isLocked=!1,this.runHook("unlock",[t,e,o]),this.runHook("unlocked",[t,e,o])}},lock:function(t){this._lock(t||"api")},unlock:function(t,e,o){this._unlock(t||"api",e,o)},_createMarkup:function(){var t=this,e=(this._loadFonts(),this.element.parent().is("a")?this.element.parent():this.element),o=(e.addClass("onp-sl-content"),(p.pandalocker.browser.mozilla?"mozilla":p.pandalocker.browser.opera&&"opera")||(p.pandalocker.browser.webkit?"webkit":"msie")),n=(this.locker=p("<div class='onp-sl onp-sl-"+o+"'></div>"),this.outerWrap=p("<div class='onp-sl-outer-wrap'></div>").appendTo(this.locker),this.innerWrap=p("<div class='onp-sl-inner-wrap'></div>").appendTo(this.outerWrap),p("<div class='onp-sl-screen onp-sl-screen-default'></div>").appendTo(this.innerWrap));this.screens.default=this.defaultScreen=n,this.locker.addClass(this.style),this.locker.addClass("onp-sl-"+this.lockerType),this.locker.addClass("onp-sl-"+this.options.groups.order[0]+"-frist"),this.locker.addClass(1===this.options.groups.order.length?"onp-sl-contains-single-group":"onp-sl-contains-many-groups");for(var i,r,s=0;s<this.options.groups.order.length;s++)this.locker.addClass("onp-sl-"+this.options.groups.order[s]+"-enabled");this.locker.addClass(p.pandalocker.isTouch()?"onp-sl-touch":"onp-sl-no-touch"),this.options.cssClass&&this.locker.addClass(this.options.cssClass),this.overlap?(e.addClass("onp-sl-overlap-mode"),o=this.element.css("display"),i=e,("blurring"===this.overlap||e.is("img")||e.is("iframe")||e.is("object")||"block"!==o&&"inline-block"!==o)&&((i=p('<div class="onp-sl-content-wrap"></div>')).insertAfter(e),i.append(e),r=e.css("margin"),i.css({margin:r}),e.css({margin:"0"}),t.addHook("unlock",function(){i.css({margin:r})})),e.show(),this.element.show(),"blurring"===this.overlap&&(this.blurArea=p("<div class='onp-sl-blur-area'></div>"),this.blurArea.insertAfter(e),this.blurArea.append(e),e=this.blurArea),"static"===i.css("position")&&i.css("position","relative"),1===(o=e.is("iframe")&&e||e.find("iframe")).length&&"absolute"===o.css("position")&&(e.is(o)||o.parent().is(e)||"relative"!==o.parent().css("position"))&&(i.css({position:"absolute",width:"100%",height:"100%",top:o.css("top"),left:o.css("left"),right:o.css("right"),bottom:o.css("bottom"),margin:o.css("margin")}),o.css({top:0,left:0,right:0,bottom:0,margin:"auto"})),this.overlapLockerBox=p("<div class='onp-sl-overlap-locker-box'></div>").hide(),this.overlapLockerBox.addClass("onp-sl-position-"+this.options.overlap.position),this.overlapLockerBox.append(this.locker),this.overlapBox=p("<div class='onp-sl-overlap-box'></div>"),this.overlapBox.append(this.overlapLockerBox),this.overlapBox.addClass("onp-sl-"+this.overlap+"-mode"),this.overlapBox.addClass(this.style+"-theme"),o=p("<div class='onp-sl-overlap-background'></div>"),this.overlapBox.append(o),i.append(this.overlapBox),this.containerToTrackSize=i,"blurring"===this.overlap&&(o=this.options.overlap&&this.options.overlap.intensity||5,this.blurArea=this.blurArea.Vague({intensity:o,forceSVGUrl:!1}),this.blurArea.blur()),p(window).resize(function(){t._updateLockerPosition()}),this.addHook("size-changed",function(){t._updateLockerPosition()}),"scroll"===this.options.overlap.position&&p(window).scroll(function(){t._updateLockerPositionOnScrolling()})):(this.locker.hide(),this.locker.insertAfter(e)),this._markupIsCreated=!0,this.runHook("markup-created"),this.locker.click(function(){t.runHook("raw-interaction")}),this._isLockerVisible=this.locker.parent().is(":visible"),this._isLockerVisible||(this.options.lazy=!0);for(var a=0;a<this._groups.length;a++)this._groups[a].renderGroup(n);(this.options.terms||this.options.privacyPolicy)&&this._createTerms(),this.options.locker.close&&this._createClosingCross(),this.options.locker.timer&&this._createTimer(),"visible_with_warning"===this.options.locker.inAppBrowsers&&this.options.locker.inAppBrowsersWarning&&p.pandalocker.tools.isInAppBrowser()&&(o=(o=this.options.locker.inAppBrowsersWarning).replace("{browser}","<strong>"+p.pandalocker.tools.getInAppBrowser()+"</strong>"),e=p("<div class='onp-sl-group-notice'>"+o+"</div>"),n.find(".onp-sl-group").append(e))},_addClass:function(t){this.locker.addClass(t)},_loadFonts:function(){if(this.options.theme.fonts&&this.options.theme.fonts.length)for(var t=("https:"===document.location.protocol?"https":"http")+"://fonts.googleapis.com/css",e=0;e<this.options.theme.fonts.length;e++){var o=this.options.theme.fonts[e],n=o.name,n=(o.styles&&o.styles.length&&(n=n+":"+o.styles.join(",")),p.pandalocker.tools.updateQueryStringParameter(t,"family",n)),o=(o.subset&&o.subset.length&&(n=p.pandalocker.tools.updateQueryStringParameter(n,"subset",o.subset.join(","))),p.pandalocker.tools.hash(n));0<p("#onp-sl-font-"+o).length||p('<link id="onp-sl-font-'+o+'" rel="stylesheet" type="text/css" href="'+n+'" >').appendTo("head")}},_updateLockerPosition:function(){var t,e,o,n,i;if(this.overlap)return o=this.containerToTrackSize.outerHeight(),void 0===this.contentMinTopMargin&&(this.contentMinTopMargin=parseInt(this.containerToTrackSize.css("marginTop"))),void 0===this.contentMinBottomMargin&&(this.contentMinBottomMargin=parseInt(this.containerToTrackSize.css("marginBottom"))),o<(t=this.locker.outerHeight())&&(o=parseInt((t-o)/2)+20,e=this.contentMinTopMargin<o?o:this.contentMinTopMargin,o=this.contentMinBottomMargin<o?o:this.contentMinBottomMargin,this.containerToTrackSize.css({marginTop:e+"px",marginBottom:o+"px"})),"top"!==this.options.overlap.position&&"scroll"!==this.options.overlap.position||(e=this.overlapBox.outerWidth(),o=this.locker.outerWidth(),n=this.overlapBox.outerHeight(),(i=this.options.overlap.offset)||(i=Math.floor((e-o)/2))<=10&&(i=10),n<2*i+t&&(i=Math.floor((n-t)/2)),this.overlapLockerBox.css("marginTop",i+"px"),"scroll"===this.options.overlap.position&&(this._baseOffset=i,this._updateLockerPositionOnScrolling())),"middle"===this.options.overlap.position?void this.overlapLockerBox.css("marginTop","-"+Math.floor(this.overlapLockerBox.innerHeight()/2)+"px"):void 0},_updateLockerPositionOnScrolling:function(){var t=this.overlapBox.offset(),e=t.top,o=t.left,t=t.top+this.overlapBox.outerHeight(),n=this.overlapBox.outerWidth(),i=this.overlapBox.outerHeight(),r=this.locker.outerHeight();if(!(2*this._baseBoxOffset+r+10>=i))return(i=p(document).scrollTop())+r+2*this._baseOffset+20>t?void this.overlapLockerBox.css("position","absolute").css("top","auto").css("left","0px").css("width","auto").css("bottom",this._baseOffset+"px").css("margin-top","0px"):e<i+20?void this.overlapLockerBox.css("position","fixed").css("top",this._baseOffset+20+"px").css("left",o+"px").css("width",n+"px").css("bottom","auto").css("margin-top","0px"):void this.overlapLockerBox.css("position","absolute").css("top","0px").css("left","0px").css("bottom","auto").css("width","auto").css("margin-top",this._baseOffset+"px")},_startTrackVisability:function(){function t(){var t,e,o;n._trackVisabilityStoppped||(i?(e=(t=i.getBoundingClientRect()).height/2,o=t.width/2,0<t.top+e&&t.bottom-e<=r&&t.left+o&&t.right-o<=s&&(n.runHook("raw-impress"),n._stopTrackVisability())):n._stopTrackVisability())}var n=this,i=this.locker[0],r=(this._trackVisabilityStoppped=!1,i.getBoundingClientRect||this.runHook("raw-impress"),p(window).height()),s=p(window).width();p(window).bind("resize.visability.opanda",function(){n._trackVisabilityStoppped||(r=p(window).height(),s=p(window).width())}),p(window).bind("resize.visability.opanda scroll.visability.opanda",function(){n._trackVisabilityStoppped||t()}),this._isLockerVisible||(p("a, button").add(p(document)).bind("click.visability.opanda",function(){n._trackVisabilityStoppped||setTimeout(function(){t()},200)}),this.addHook("raw-impress",function(){n._isLockerVisible=!0,n._trackVisabilityStoppped=!0})),t()},_stopTrackVisability:function(){this._trackVisabilityStoppped=!0},_createClosingCross:function(){var t=this;p("<div class='onp-sl-cross' title='"+p.pandalocker.lang.misc_close+"' />").prependTo(this.locker).click(function(){t.close&&t.close(t)||t._unlock("cross",!0)})},_createTimer:function(){this.timer=p("<span class='onp-sl-timer'></span>");var t=(t=p.pandalocker.lang.misc_or_wait).replace("{timer}",p("<span class='onp-sl-timer-counter'>"+this.options.locker.timer+"</span>")[0].outerHTML);this.timerLabel=p("<span class='onp-sl-timer-label'></span>").html(t).appendTo(this.timer),this.timerCounter=this.timerLabel.find(".onp-sl-timer-counter"),this.timer.appendTo(this.locker),this.counter=this.options.locker.timer,this._kickTimer()},_kickTimer:function(){var e=this;setTimeout(function(){var t;e._isLocked&&(e.counter--,e.counter<=0?e._unlock("timer"):(e.timerCounter.text(e.counter),p.pandalocker.browser.opera&&((t=e.timerCounter.clone()).insertAfter(e.timerCounter),e.timerCounter.remove(),e.timerCounter=t),e._kickTimer()))},1e3)},_createTerms:function(){this.locker.addClass("onp-sl-has-terms"),this.terms=p("<div class='onp-sl-terms'></div>").appendTo(this.defaultScreen),this.termsInnerWrap=p("<div class='onp-sl-terms-inner-wrap'></div>").appendTo(this.terms);var e,o,t=p.pandalocker.lang.misc_your_agree_with,n="";this.options.terms&&(n=p("<a target='_black' class='onp-sl-link'>"+p.pandalocker.lang.misc_terms_of_use+"</a>").attr("href",this.options.terms)[0].outerHTML),this.options.privacyPolicy&&(this.options.terms&&(n+=", "),n+=p("<a target='_black' class='onp-sl-link'>"+p.pandalocker.lang.misc_privacy_policy+"</a>").attr("href",this.options.privacyPolicy)[0].outerHTML),n&&(t=t.replace("{links}",n)),this.termsInnerWrap.html(t),this.options.termsPopup&&(e=this.options.termsPopup.width||550,o=this.options.termsPopup.height||400,this.termsInnerWrap.find(".onp-sl-link").click(function(){var t=p(this).attr("href");return window.open(t,"bizpanda_policies","width="+e+",height="+o+",resizable=yes,scrollbars=yes"),!1}))},_showContent:function(t){function n(){s.overlap?(s.overlapBox&&s.overlapBox.hide(),s.blurArea&&s.blurArea.unblur()):s.locker&&s.locker.hide(),s.locker&&s.locker.hide(),t?s.element.fadeIn(1e3,function(){s.options.highlight&&s.element.effect&&s.element.effect("highlight",{color:"#fffbcc"},800)}):s.element.show(),s.runHook("after-show-content")}var e,i,o,r,s=this;this.runHook("before-show-content");this.options.content?"string"==typeof this.options.content?(this.element.html(this.options.content),n()):"object"!=typeof this.options.content||this.options.content.url?"object"==typeof this.options.content&&this.options.content.url?(e=p.extend(!0,{},this.options.content),i=e.success,o=e.complete,r=e.error,e.success=function(t,e,o){i?i(s,t,e,o):s.element.html(t),n()},e.error=function(t,e,o){s._showError("ajax","An error is triggered during the ajax request! Text: "+e+" "+o),r&&r(t,e,o)},e.complete=function(t,e){o&&o(t,e)},p.ajax(e)):n():(this.element.append(this.options.content.clone().show()),n()):n()}}),p.fn.sociallocker=function(t){return p(this).pandalocker(t)})}(jQuery);